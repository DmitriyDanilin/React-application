{"version":3,"sources":["components/Profile/MyPosts/Post/Post.module.css","components/common/FormControls/FormControls.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css","components/Music/Music.module.css","components/Login/Login.module.css","components/Preloader/Preloader.module.css","serviceWorker.js","API/api.ts","API/profile-api.ts","redux/profile-reducer.ts","redux/dialogs-reducer.ts","redux/sidebar-reducer.ts","API/users-api.ts","Utilits/helpers/object-helper.js","redux/users-reducer.ts","API/security-api.ts","API/auth-api.ts","redux/auth-reduser.ts","redux/app-reduser.ts","API/chat-api.ts","redux/chat-reduser.ts","redux/redux-store.ts","img/preloader.svg","components/Preloader/Preloader.tsx","components/common/FormControls/FormControls.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","img/UserPhoto.png","components/Profile/ProfileInfo/ProfileInfo.tsx","img/36b78c8b7cd957e082f53148b74787ea.jpg","components/Profile/MyPosts/Post/Post.tsx","Utilits/Validators/validators.ts","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","HOC/withAuthRedirect.tsx","components/Profile/ProfileContainer.tsx","components/Login/Login.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","components/Users/User.tsx","redux/users-selectors.ts","components/Users/UserSearchForm.tsx","components/Users/Users.tsx","components/Users/UsersPage.tsx","components/Header/Header.tsx","pages/Chat/ChatPage.tsx","components/Music/Card.tsx","components/Music/MusicPage.tsx","App.tsx","index.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Dialogs/Dialogs.module.css","components/Users/Users.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","ResultCodeEnum","axiosInstance","axios","create","withCredentials","baseURL","headers","profileAPI","userId","get","then","res","data","status","put","photoFile","formData","FormData","append","profile","initialState","posts","id","message","likesCount","actions","addPostActionCreator","newPostBody","type","setUserProfile","setUserStatusAC","deletePost","postID","setUserPhoto","photo","getUserProfile","dispatch","a","response","profileReducer","state","action","newPostID","length","newPost","filter","p","photos","SEND_MESSAGE","dialogs","name","messages","dialogsReducer","newMessageID","body","newMessageBody","sidebarReducer","usersAPI","getUsers","currentPage","pageSize","term","friend","Follow","post","unFollow","delete","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","isFollowingInProgress","payload","totalCount","getState","followUnfollowFlow","apiMethod","actionCreator","resultCode","usersReducer","followed","securityAPI","authAPI","email","password","rememberMe","captcha","userID","login","isAuth","captchaURL","getAuthUserData","Success","getCaptchaURL","url","authReducer","isInitialized","appReduser","newWS","closeHandler","console","log","subscribers","forEach","s","setTimeout","createChannel","messageHandler","e","newMesage","JSON","parse","openHandler","errorHandler","CleanUp","removeEventListener","close","WebSocket","addEventListener","chatAPI","eventName","callback","push","send","_newMessageHandler","newMessageHandlerCreator","_statusChangedHandler","statusChangedHandlerCreator","chatReducer","m","v1","index","array","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","chatPage","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Preloader","className","preloaderIMG","src","preloader","FormControl","meta","touched","error","children","hasError","formControl","TextArea","props","input","restProps","text","Input","CreateField","placeholder","validators","component","Field","validate","ReduxProfileDataForm","reduxForm","handleSubmit","onSubmit","lookingForAJob","Object","keys","contacts","key","contact","formSummaryError","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","autoFocus","onBlur","updateStatus","onChange","currentTarget","value","onDoubleClick","ProfileData","isOwner","activateEditMode","profileName","fullName","lookingForAJobDescription","aboutMe","Title","Value","editBTN","onClick","Contact","ProfileInfo","descriptionBlock","avatar","large","userPhoto","target","files","file","savePhoto","initialValues","saveProfile","Post","React","likes","setLike","item","profilePH","postText","like","maxLengthCreator","maxLength","required","MyPosts","memo","postsElements","reverse","postsBlock","ReduxAddNewPostForm","values","addPost","addPostArea","addPostBTN","MyPostsContainer","connect","Profile","mapStateToPropsForRedirect","withAuthRedirect","Component","to","ProfileContainer","params","loginedUserId","history","getStatus","this","prevProps","stopSubmit","_error","Promise","reject","withRouter","Login","useSelector","useDispatch","style","marginTop","span","LoginReduxForm","CaptchRequired","undefined","loginBTN","DialogItem","path","activeClassName","activeDialog","person","Message","dialog","ReduxAddMessageForm","textButtonArea","Dialogs","dialogsElements","d","messagesElements","dialogsItems","sendMessage","User","user","unfollow","follow","small","disabled","some","followBTN","userInfo","aboutUser","GetUsers","createSelector","GetIsAuth","GetLogin","GetPageSize","GetTotalUsersCount","GetCurrentPage","GetIsFetching","GetIsFollowingInProgress","GetUsersFilter","UserSearchValidate","UsersSearchForm","enableReinitialize","String","setSubmitting","onFilterChanged","as","Users","useHistory","parsed","queryString","search","substr","actualPage","actualFilter","page","query","pathname","bind","Unfollow","margin","showSizeChanger","current","responsive","size","pageNumber","total","UsersPage","AppHeader","padding","activeLink","title","loginBlock","danger","ChatPage","Chat","Messages","messagesRef","useRef","isAutoScrollActive","setAS","scrollIntoView","behavior","height","overflow","onScroll","element","Math","abs","scrollHeight","scrollTop","clientHeight","ref","border","background","width","borderRadius","marginLeft","userName","AddMessageForm","setMessage","resize","Meta","Card","MyCard","card","hoverable","cover","alt","description","MusicPage","wrappedBlock","Content","Layout","Footer","Sider","App","collapsed","onCollapse","setState","catchAllUnhandledErrors","alert","initilizeApp","minHeight","collapsible","theme","defaultSelectedKeys","mode","Item","icon","UserOutlined","MailOutlined","TeamOutlined","WechatOutlined","PlayCircleOutlined","exact","from","render","DialogsContainer","textAlign","dispatchPromise","all","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,KAAO,mBAAmB,UAAY,wBAAwB,SAAW,uBAAuB,KAAO,qB,oBCAzHD,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,uCAAuC,KAAO,6B,oBCAvKD,EAAOC,QAAU,CAAC,WAAa,4BAA4B,MAAQ,uBAAuB,WAAa,8B,oBCAvGD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,MAAQ,sBAAsB,WAAa,2BAA2B,MAAQ,wB,oBCAhID,EAAOC,QAAU,CAAC,aAAe,4BAA4B,KAAO,sB,oBCApED,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,SAAW,wBAAwB,iBAAmB,gCAAgC,SAAW,wBAAwB,QAAU,yB,oBCA7MD,EAAOC,QAAU,CAAC,aAAe,kC,oFCWbC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,ICPMC,E,yDARCC,E,OAAgBC,EAAMC,OAC/B,CACIC,iBAAiB,EACjBC,QAAS,+CACTC,QAAS,CAAE,UAAW,2C,SAIlBN,O,qBAAAA,I,iBAAAA,I,qCAAAA,M,KCJL,IAAMO,EAAa,SACXC,GACP,OAAOP,EAAcQ,IAAd,mBAA2CD,IAAUE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAFvEL,EAAa,SAIZC,GACN,OAAOP,EAAcQ,IAAY,mBAAqBD,GAAQE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SALzEL,EAAa,SAOTM,GACT,OAAOZ,EAAca,IAAd,kBAAmD,CAAED,OAAQA,IAAUH,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SARzFL,EAAa,SAUZQ,GACN,IAAMC,EAAW,IAAIC,SAGrB,OAFAD,EAASE,OAAO,QAASH,GAElBd,EAAca,IAAd,iBAAyEE,EAAU,CAACV,QACvF,CAAC,eAAgB,yBAA0BI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAf1DL,EAAa,SAkBVY,GACR,OAAOlB,EAAca,IAAd,WAA4CK,GAAST,MAAK,SAAAC,GAAG,OAAIA,EAAIC,S,QCnBhFQ,EAAe,CACfC,MAAO,CACH,CAAEC,GAAI,EAAGC,QAAS,mBAAoBC,WAAY,IAClD,CAAEF,GAAI,EAAGC,QAAS,qBAAuBC,WAAY,IACrD,CAAEF,GAAI,EAAGC,QAAS,SAAUC,WAAY,IACxC,CAAEF,GAAI,EAAGC,QAAS,OAAQC,WAAY,KAE1CX,OAAQ,GACRM,QAAS,MAwDAM,EAAU,CACnBC,qBAAsB,SAACC,GAAD,MAA0B,CAAEC,KAAM,WAAYD,gBACpEE,eAAgB,SAACV,GAAD,MAA2B,CAAES,KAAM,mBAAoBT,YACvEW,gBAAiB,SAACjB,GAAD,MAAqB,CAAEe,KAAM,aAAcf,WAC5DkB,WAAY,SAACC,GAAD,MAAsB,CAAEJ,KAAM,cAAeI,WACzDC,aAAc,SAACC,GAAD,MAAwB,CAAEN,KAAM,YAAaM,WAQlDC,EAAiB,SAAC3B,GAAD,8CAAsC,WAAO4B,GAAP,eAAAC,EAAA,sEAC3C9B,EAAsBC,GADqB,OAC5D8B,EAD4D,OAEhEF,EAASX,EAAQI,eAAeS,IAFgC,2CAAtC,uDAmDfC,EAjHQ,WAAkE,IAAjEC,EAAgE,uDAAxDpB,EAAcqB,EAA0C,uCAEpF,OAAQA,EAAOb,MACX,IAAK,WACD,IAAIc,EAAYF,EAAMnB,MAAMsB,OACxBC,EAAU,CACVtB,GAAIoB,EACJnB,QAASkB,EAAOd,YAChBH,WAAY,GAEhB,OAAO,2BACAgB,GADP,IAEInB,MAAM,GAAD,mBAAMmB,EAAMnB,OAAZ,CAAmBuB,MAGhC,IAAK,mBAED,OAAO,2BACAJ,GADP,IAEIrB,QAASsB,EAAOtB,UAIxB,IAAK,cAED,OAAO,2BACAqB,GADP,IAEInB,MAAOmB,EAAMnB,MAAMwB,QAAO,SAAAC,GAAC,OAAIA,EAAExB,IAAMmB,EAAOT,YAItD,IAAK,aAED,OAAO,2BACAQ,GADP,IAEI3B,OAAQ4B,EAAO5B,SAIvB,IAAK,YACD,OAAO,2BAAK2B,GAAZ,IAAmBrB,QAAQ,2BAAMqB,EAAMrB,SAAb,IAAsB4B,OAAQN,EAAOP,UAGnE,QACI,OAAOM,ICzDbQ,EAAe,eAEjB5B,EAAiC,CACjC6B,QAAS,CACL,CAAE3B,GAAI,EAAG4B,KAAM,QACf,CAAE5B,GAAI,EAAG4B,KAAM,WACf,CAAE5B,GAAI,EAAG4B,KAAM,QACf,CAAE5B,GAAI,EAAG4B,KAAM,SAEnBC,SAAU,CACN,CAAE7B,GAAI,EAAGC,QAAS,MAClB,CAAED,GAAI,EAAGC,QAAS,gBAClB,CAAED,GAAI,EAAGC,QAAS,MAClB,CAAED,GAAI,EAAGC,QAAS,MAClB,CAAED,GAAI,EAAGC,QAAS,QA2BX6B,EAvBQ,WAA6E,IAA5EZ,EAA2E,uDAAnEpB,EAAcqB,EAAqD,uCAE/F,OAAQA,EAAOb,MAGX,KAAKoB,EACD,IAAIK,EAAeb,EAAMW,SAASR,OAC9BW,EAAOb,EAAOc,eAClB,OAAO,2BACAf,GADP,IAEIW,SAAS,GAAD,mBAAMX,EAAMW,UAAZ,CAAsB,CAAE7B,GAAI+B,EAAc9B,QAAS+B,OAGnE,QACI,OAAOd,ICvCfpB,EAAe,GAOJoC,EAJQ,WAAwC,IAAvChB,EAAsC,uDAA9BpB,EAC5B,OAAOoB,GCIEiB,EAAW,CACpBC,SADoB,SACXC,EAAqBC,GAAqE,IAAnDC,EAAkD,uDAAnC,GAAIC,EAA+B,uDAAN,KACxF,OAAO7D,EAAcQ,IAAkB,sBAAekD,EAAf,kBAAoCC,EAApC,iBAAqDC,IAAkB,OAAVC,EAAiB,GAAjB,kBAAgCA,KACnIpD,MAAK,SAAA4B,GAAc,OAAOA,EAAS1B,SAExCmD,OALoB,SAKbzC,GACH,OAAOrB,EAAc+D,KAAd,kBAAqD1C,IAAMZ,MAAK,SAAA4B,GAAc,OAAOA,EAAS1B,SAEzGqD,SARoB,SAQX3C,GACL,OAAOrB,EAAciE,OAAd,kBAAuD5C,IAAMZ,MAAK,SAAA4B,GAAc,OAAOA,EAAS1B,UClBlGuD,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC5D,OAAOH,EAAMI,KAAI,SAAAC,GACb,OAAIA,EAAEH,KAAiBD,EACZ,2BAAKI,GAAMF,GAEfE,MCGXrD,EAAe,CACfsD,MAAO,GACPd,SAAU,GACVe,gBAAiB,EACjBhB,YAAa,EACbiB,YAAY,EACZC,sBAAuB,GACvBhC,OAAO,CACHgB,KAAM,GACNC,OAAQ,OA6CHrC,EACE,SAACoB,GAAyB,MAAO,CAAEjB,KAAM,aAAckD,QAASjC,IADlEpB,EAEM,SAACjB,GAAqB,MAAO,CAAEoB,KAAM,SAAUpB,WAFrDiB,EAGQ,SAACjB,GAAqB,MAAO,CAAEoB,KAAM,WAAYpB,WAHzDiB,EAIC,SAACiD,GAA6B,MAAO,CAAE9C,KAAM,YAAa8C,UAJ3DjD,EAKO,SAACkC,GAA0B,MAAO,CAAE/B,KAAM,mBAAoB+B,gBALrElC,EAMW,SAACsD,GAAyB,MAAO,CAAEnD,KAAM,wBAAyBmD,eAN7EtD,EAOM,SAACmD,GAA0B,MAAO,CAAEhD,KAAM,qBAAsBgD,eAPtEnD,EAQU,SAACoD,EAAgCrE,GAAqB,MAAO,CAAEoB,KAAM,+BAAgCiD,wBAAuBrE,WAOtIkD,EAAW,SAACC,EAAqBC,EAAkBf,GAAxC,8CAEpB,WAAOT,EAAU4C,GAAjB,eAAA3C,EAAA,6DACID,EAASX,GAAsB,IAC/BW,EAASX,EAAuBkC,IAChCvB,EAASX,EAAkBoB,IAH/B,SAKqBY,EAASC,SAASC,EAAaC,EAAUf,EAAOgB,KAAMhB,EAAOiB,QALlF,OAKQlD,EALR,OAOIwB,EAASX,EAAiBb,EAAKwD,QAC/BhC,EAASX,EAA2Bb,EAAKmE,aACzC3C,EAASX,GAAsB,IATnC,2CAFoB,yDAwBlBwD,EAAkB,uCAAG,WAAO7C,EAAwBd,EACtD4D,EAAsDC,GAD/B,SAAA9C,EAAA,6DAEvBD,EAASX,GAA0B,EAAMH,IAFlB,SAGF4D,EAAU5D,GAHR,OAKI,GALJ,OAKV8D,YACThD,EAAS+C,EAAc7D,IAE3Bc,EAASX,GAA0B,EAAOH,IARnB,2CAAH,4DAuBT+D,EApGM,WAAkE,IAAjE7C,EAAgE,uDAAxDpB,EAAcqB,EAA0C,uCAClF,OAAQA,EAAOb,MACX,IAAK,SACD,OAAO,2BACAY,GADP,IAEIkC,MAAOP,EAAoB3B,EAAMkC,MAAOjC,EAAOjC,OAAQ,KAAM,CAAE8E,UAAU,MAEjF,IAAK,WACD,OAAO,2BACA9C,GADP,IAEIkC,MAAOP,EAAoB3B,EAAMkC,MAAOjC,EAAOjC,OAAQ,KAAM,CAAE8E,UAAU,MAGjF,IAAK,YACD,OAAO,2BAAK9C,GAAZ,IAAmBkC,MAAOjC,EAAOiC,QAErC,IAAK,mBACD,OAAO,2BAAKlC,GAAZ,IAAmBmB,YAAalB,EAAOkB,cAC3C,IAAK,wBACD,OAAO,2BAAKnB,GAAZ,IAAmBmC,gBAAiBlC,EAAOsC,aAC/C,IAAK,qBACD,OAAO,2BAAKvC,GAAZ,IAAmBoC,WAAYnC,EAAOmC,aAC1C,IAAK,+BACD,OAAO,2BACApC,GADP,IAEIqC,sBAAuBpC,EAAOoC,sBAAP,sBACbrC,EAAMqC,uBADO,CACgBpC,EAAOjC,SACxCgC,EAAMqC,sBAAsBhC,QAAO,SAAAvB,GAAE,OAAIA,GAAMmB,EAAOjC,YAEpE,IAAK,aACD,kCAAUgC,GAAV,IAAiBK,OAAQJ,EAAOqC,UACpC,QACI,OAAOtC,ICpDN+C,EAAc,WAEnB,OAAOtF,EAAcQ,IAAd,6BAA+DC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SCJjF4E,EAAU,WAEf,OAAOvF,EAAcQ,IAAd,YAAyFC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAF3G4E,EAAU,SAIbC,EAAeC,GAAsE,IAAnDC,EAAkD,wDAA9BC,EAA8B,uDAAN,KAChF,OAAO3F,EAAc+D,KAAd,cAAmE,CAAEyB,QAAOC,WAAUC,aAAYC,YAAWlF,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAL/H4E,EAAU,WAQf,OAAOvF,EAAciE,OAAd,eAAkDxD,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SCI7EQ,EAAiC,CACjCyE,OAAQ,KACRJ,MAAO,KACPK,MAAO,KACPC,QAAQ,EACRC,WAAY,MAmBHvE,EACQ,SAACoE,EAAuBJ,EAAsBK,EAAsBC,GACjF,MAAO,CACHnE,KAAM,gBAAiBkD,QACnB,CAAEe,SAAQJ,QAAOK,QAAOC,YAJ3BtE,EAOa,SAACuE,GACnB,MAAO,CACHpE,KAAM,0BAA2BkD,QAAS,CAACkB,gBAU1CC,EAAkB,yDAAgB,WAAO7D,GAAP,uBAAAC,EAAA,sEACtBmD,IADsB,QACvClD,EADuC,QAG9B8C,aAAepF,EAAekG,UAAU,EACtB5D,EAAS1B,KAA9BU,EAD0C,EAC1CA,GAAIwE,EADsC,EACtCA,MAAOL,EAD+B,EAC/BA,MACjBrD,EAASX,EAAwBH,EAAImE,EAAOK,GAAO,KALZ,2CAAhB,uDAkClBK,EAAgB,yDAAiB,WAAO/D,GAAP,iBAAAC,EAAA,sEAEnBkD,IAFmB,OAEpCjD,EAFoC,OAGpC0D,EAAa1D,EAAS8D,IAE5BhE,EAASX,EAA6BuE,IALI,2CAAjB,uDAQdK,EA7EK,WAAkE,IAAjE7D,EAAgE,uDAAxDpB,EAAcqB,EAA0C,uCACjF,OAAQA,EAAOb,MACX,IAAK,gBACL,IAAK,0BACD,OAAO,2BACAY,GACAC,EAAOqC,SAElB,QACI,OAAOtC,I,kBCxBfpB,EAAiC,CACjCkF,eAAe,GAiBb7E,GACkB,iBAAO,CAACG,KAAM,yBAgBvB2E,GA9BI,WAAkE,IAAjE/D,EAAgE,uDAAxDpB,EAAcqB,EAA0C,uCAChF,OAAQA,EAAOb,MACX,IAAK,uBACD,OAAO,2BACAY,GADP,IAEI8D,eAAgB,IAExB,QACI,OAAO9D,ICrBfgE,GAA0B,KAGxBC,GAAe,WACjBC,QAAQC,IAAI,aACZC,GAAY,kBAAkBC,SAAQ,SAAAC,GAAC,OAAIA,EAAE,cAC7CC,WAAWC,GAAe,MAIxBC,GAAiB,SAACC,GACpB,IAAMC,EAAYC,KAAKC,MAAMH,EAAEtG,MAC/BgG,GAAY,oBAAoBC,SAAQ,SAAAC,GAAC,OAAIA,EAAEK,OAE7CG,GAAc,WAChBV,GAAY,kBAAkBC,SAAQ,SAAAC,GAAC,OAAIA,EAAE,aAG3CS,GAAe,WACjBX,GAAY,kBAAkBC,SAAQ,SAAAC,GAAC,OAAIA,EAAE,aAE3CU,GAAU,WAAO,IAAD,QACb,QAAL,EAAAhB,UAAA,SAAOiB,oBAAoB,QAAShB,IAC/B,QAAL,EAAAD,UAAA,SAAOiB,oBAAoB,UAAWR,IACjC,QAAL,EAAAT,UAAA,SAAOiB,oBAAoB,OAAQH,IAC9B,QAAL,EAAAd,UAAA,SAAOiB,oBAAoB,QAASF,KAGjC,SAASP,KAAiB,IAAD,EAE5BQ,KACK,QAAL,EAAAhB,UAAA,SAAOkB,QAEPlB,GAAQ,IAAImB,UAAU,gEACtBf,GAAY,kBAAkBC,SAAQ,SAAAC,GAAC,OAAIA,EAAE,cAC7CN,GAAMoB,iBAAiB,QAASnB,IAChCD,GAAMoB,iBAAiB,UAAWX,IAClCT,GAAMoB,iBAAiB,OAAQN,IAC/Bd,GAAMoB,iBAAiB,QAASL,IAG7B,IAAMM,GAAU,WAEfb,MAFKa,GAAU,WAIZ,IAAD,EACFjB,GAAY,oBAAsB,GAClCA,GAAY,kBAAmB,GAC/BY,KACK,QAAL,EAAAhB,UAAA,SAAOkB,SARFG,GAAU,SAWTC,EAAsBC,GAG5B,OADAnB,GAAYkB,GAAWE,KAAKD,GACrB,WAEHnB,GAAYkB,GAAalB,GAAYkB,GAAWjF,QAAO,SAAAiE,GAAC,OAAIA,IAAKiB,OAhBhEF,GAAU,SAmBPC,EAAqBC,GAE7BnB,GAAYkB,GAAalB,GAAYkB,GAAWjF,QAAO,SAAAiE,GAAC,OAAIA,IAAKiB,MArB5DF,GAAU,SAuBPtG,GAAiB,IAAD,EACnB,QAAL,EAAAiF,UAAA,SAAOyB,KAAK1G,IAchBqF,GAAc,CACf,mBAAoB,GACnB,iBAAmB,I,UC1EnBxF,GAAe,CACf+B,SAAU,GACVtC,OAAQ,SA2BCY,GACS,SAAC0B,GAAD,MACjB,CAAEvB,KAAM,0BAA2BkD,QAAS,CAAE3B,cAFtC1B,GAGM,SAACZ,GAAD,MACd,CAAEe,KAAM,uBAAwBkD,QAAS,CAAEjE,YAS5CqH,GAAiE,KAE/DC,GAA2B,SAAC/F,GAC9B,OAA2B,OAAvB8F,GACOA,GAEXA,GAAqB,SAAC/E,GAClBf,EAASX,GAAyB0B,MAKtCiF,GAA+D,KAE7DC,GAA8B,SAACjG,GACjC,OAA8B,OAA1BgG,GACOA,GAEXA,GAAwB,SAACvH,GACrBuB,EAASX,GAAsBZ,MAqBxByH,GAxEK,WAAkE,IAAjE9F,EAAgE,uDAAxDpB,GAAcqB,EAA0C,uCAEjF,OAAQA,EAAOb,MACX,IAAK,0BACD,OAAO,2BACAY,GADP,IAEIW,SAAU,sBAAIX,EAAMW,UAAV,YAAuBV,EAAOqC,QAAQ3B,SAASqB,KAAI,SAAA+D,GAAC,kCAASA,GAAT,IAAYjH,GAAIkH,sBAAW3F,QAAO,SAAC0F,EAAGE,EAAOC,GAAX,OAAoBD,GAASC,EAAM/F,OAAS,SAEpJ,IAAK,uBACD,OAAO,2BACAH,GADP,IAEI3B,OAAQ4B,EAAOqC,QAAQjE,SAE/B,QACI,OAAO2B,IChBfmG,GAAWC,YAAgB,CAC3BC,YAAatG,EACbuG,YAAa1F,EACb2F,QAASvF,EACTwF,UAAW3D,EACX4D,KAAM5C,EACN6C,KAAMC,IACNC,IAAK7C,GACL8C,SAAUf,KAWRgB,GAAmB1J,OAAO2J,sCAAwCC,IAGlEC,GAAQC,YAAYf,GAAUW,GAAiBK,YAAgBC,OAErEhK,OAAO6J,MAAQA,GAEAA,U,4HCzCA,OAA0B,sC,6BCS1BI,GALa,WACxB,OACI,uBAAKC,UAAWhD,KAAEiD,aAAlB,UAAgC,sBAAKC,IAAKC,KAA1C,Q,6DCIKC,GAA+C,SAAC,GAA0C,IAAD,IAAvCC,KAAOC,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,MAAQC,EAAe,EAAfA,SAC7EC,EAAWH,GAAWC,EAC5B,OACI,uBAAKP,UAAWhD,KAAE0D,YAAc,KAAOD,EAAWzD,KAAEuD,MAAQ,IAA5D,UACI,+BACKC,IAEJC,EAAW,gCAAOF,IAAgB,OAMlCI,GAAwC,SAACC,GAAU,IAErDC,EAA8BD,EAA9BC,MAAgBC,GAAcF,EAAvBP,KAF8C,aAEvBO,EAFuB,mBAG5D,OACI,eAAC,GAAD,2BAAiBA,GAAjB,aAAwB,mDAAUZ,UAAWhD,KAAE+D,MAAUF,GAAWC,QAG/DE,GAAqC,SAACJ,GAAU,IAEjDC,EAA8BD,EAA9BC,MAAgBC,GAAcF,EAAvBP,KAF0C,aAEnBO,EAFmB,mBAGzD,OACI,eAAC,GAAD,2BAAiBA,GAAjB,aAAwB,gDAAOZ,UAAWhD,KAAE+D,MAAUF,GAAWC,QAIlE,SAAUG,GAA8BC,EAC3C9H,EAAS+H,EACTC,GAA6D,IAAZtJ,EAAW,uDAAJ,GACpD,OAAO,+BACH,eAACuJ,GAAA,EAAD,CACHH,YAAaA,EACbI,SAAUH,EACV/H,KAAMA,EACNgI,UAAWA,EACXtJ,KAAMA,M,cCfAyJ,GADcC,aAAkC,CAAEpC,KAAM,gBAA1CoC,EAtB0D,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,aAAcpK,EAAqB,EAArBA,QAASkJ,EAAY,EAAZA,MAC7G,OACI,wBAAMmB,SAAUD,EAAhB,UACI,+CAAiBR,GAAY,YAAa,WAAY,GAAID,OAC1D,uDAAwB,uBAAMhB,UAAWhD,KAAE2E,eAAnB,SAAoCV,GAA6B,GAAI,iBAAkB,GAAID,GAAO,iBAC1H,mEAAoC,gCAAOC,GAA6B,cAAe,4BAA6B,GAAIN,SACxH,8CAAe,gCAAOM,GAA6B,WAAY,UAAW,GAAIN,SAC9E,iCACI,0CADJ,KACsBiB,OAAOC,KAAKxK,EAAQyK,UAAUpH,KAAI,SAAAqH,GAChD,OAAO,uBAAe/B,UAAWhD,KAAEgF,QAA5B,UACFD,EADE,MACMd,GAAYc,EAAK,YAAcA,EAAK,GAAIf,MADpCe,SAKvBxB,GAAS,sBAAKP,UAAWhD,KAAEiF,iBAAlB,SACN1B,IAEL,iDCmBG2B,GAxCqC,SAACtB,GAAW,IAAD,EAE9BuB,qBAAS,GAFqB,oBAEtDC,EAFsD,KAE7CC,EAF6C,OAGjCF,oBAASvB,EAAM7J,QAHkB,oBAGtDA,EAHsD,KAG9CuL,EAH8C,KAI3DC,sBAAU,WACND,EAAU1B,EAAM7J,UACjB,CAAC6J,EAAM7J,SAcV,OACI,+BAEQqL,EACM,+BACE,wBAAQI,WAAW,EACnBC,OAfM,WACtBJ,GAAY,GACZzB,EAAM8B,aAAa3L,IAcD4L,SAZC,SAACvF,GACpBkF,EAAUlF,EAAEwF,cAAcC,QAYRA,MAAO9L,MAGX,+BACE,wBAAM+L,cAxBF,WACpBT,GAAY,IAuBI,UACI,yCADJ,IACoBzB,EAAM7J,QAAU,oBCtC7C,OAA0B,sCC+DnCgM,GAA8C,SAAC,GAA4C,IAA1C1L,EAAyC,EAAzCA,QAAS2L,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,iBACrE,OAAO,iCACH,oBAAGjD,UAAWhD,KAAEkG,YAAhB,SAA8B7L,EAAQ8L,WACtC,+BAAG,oDAAH,IAA8B9L,EAAQsK,eAAiB,MAAQ,QAC/D,6BAAItK,EAAQ+L,4BACZ,+BAAG,2CAAH,IAAqB/L,EAAQgM,WAC5B,iCACG,2CADH,IACqBzB,OAAOC,KAAKxK,EAAQyK,UACjCpH,KAAI,SAAAqH,GACD,OAAO,eAAC,GAAD,CAAmBuB,MAAOvB,EAAKwB,MAAOlM,EAAQyK,SAASC,IAAzCA,SAGhCiB,EAAU,sBAAKhD,UAAWhD,KAAEwG,QAAlB,SACP,yBAAQC,QAASR,EAAjB,oBACK,SAOJS,GAAsC,SAAC,GAAsB,IAApBJ,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,MACzD,OAAO,uBAAKvD,UAAWhD,KAAEgF,QAAlB,UAA2B,+BAAIsB,EAAJ,OAAgBC,MAGvCI,GAvE0B,SAAC/C,GACtC,IADgD,EAYlBuB,qBAAS,GAZS,oBAY3CC,EAZ2C,KAYjCC,EAZiC,KAahD,OAAKzB,EAAMvJ,QAKH,+BACI,uBAAK2I,UAAWhD,KAAE4G,iBAAlB,UACI,sBAAK5D,UAAWhD,KAAE6G,OAAQ3D,IAAKU,EAAMvJ,QAAQ4B,OAAO6K,OAASC,KAE7D,+BAAMnD,EAAMoC,QACN,wBAAOlL,KAAK,OAAO6K,SAtBhB,SAACvF,GAAsC,IAAD,EAC3D,aAAGA,EAAE4G,OAAOC,aAAZ,aAAG,EAAgBpL,OAAO,CACtB,IAAIqL,EAAO9G,EAAE4G,OAAOC,MAAM,GAC1BrD,EAAMuD,UAAUD,OAoBF,KAEN,sBAAKlE,UAAWhD,KAAEjG,OAAlB,SAA0B,eAAC,GAAD,CAAwBA,OAAQ6J,EAAM7J,OAC5D2L,aAAc9B,EAAM8B,iBACvBN,EAAW,eAAC,GAAD,CAAiB/K,QAASuJ,EAAMvJ,QAAS+M,cAAexD,EAAMvJ,QAASqK,SArBjF,SAACxK,GACf0J,EAAMyD,YAAYnN,GAAUN,MAAK,WAC7ByL,GAAY,SAoBJ,eAAC,GAAD,CACIY,iBAAkB,WAAQZ,GAAY,IACtChL,QAASuJ,EAAMvJ,QACf2L,QAASpC,EAAMoC,eAlBxB,eAAC,GAAD,K,0CC/BA,OAA0B,6DC8B1BsB,GAvBmB,SAAC1D,GAAW,IAAD,EAClB2D,KAAMpC,SAASvB,EAAMlJ,YADH,oBACpC8M,EADoC,KAC7BC,EAD6B,KAW3C,OACE,uBAAKzE,UAAWhD,KAAE0H,KAAlB,UACE,sBAAK1E,UAAWhD,KAAE2H,UAAWzE,IAAK6D,KAClC,uBAAM/D,UAAWhD,KAAE4H,SAAnB,SAA8BhE,EAAMnJ,UACpC,iCACE,uBAAMgM,QAdI,WACVe,GAAS5D,EAAMlJ,WACjB+M,EAAQD,EAAQ,GAEVA,EAAQ5D,EAAMlJ,YAEpB+M,EAAQD,EAAQ,IAQd,SAAwB,sBAAKxE,UAAWhD,KAAE6H,KAAM3E,IAAK,mFACpD,uBAAMF,UAAWhD,KAAEtF,WAAnB,SAAgC8M,WCd5BM,GAAmB,SAACC,GAAD,OAA0C,SAAClC,GACvE,GAAKA,EAAMhK,OAASkM,EAChB,MAAM,OAAN,OAAcA,EAAd,cAKOC,GAd8B,SAACnC,GAC1C,IAAIA,EAGJ,MAAO,qBCgBLoC,IAdYH,GAAiB,KAcgCP,KAAMW,MAAK,SAACtE,GAC3E,IAAIuE,EACA,YAAIvE,EAAMrJ,OAAO6N,UAAU1K,KAAI,SAAA1B,GAAC,OAAI,eAAC,GAAD,CAAsBvB,QAASuB,EAAEvB,QAASC,WAAYsB,EAAEtB,YAA7CsB,EAAEvB,YAQrD,OACI,uBAAKuI,UAAWhD,KAAEqI,WAAlB,UACI,2CACA,iCACI,sDACA,eAACC,GAAD,CAAqB5D,SAVhB,SAAC6D,GACd3E,EAAM4E,QAAQD,EAAO1N,aACrB0N,EAAO1N,YAAc,SAUjB,sBAAKmI,UAAWhD,KAAEzF,MAAlB,SACK4N,WAoBXG,GAAsB9D,aAAiD,CAAEpC,KAAM,WAAzDoC,EAVyF,SAACZ,GAClH,OAAQ,wBAAMc,SAAUd,EAAMa,aAAtB,UACJ,sBAAKzB,UAAWhD,KAAEyI,YAAlB,SACKxE,GAAoC,WAAY,cAAe,GAAIN,MAExE,yBAAQX,UAAWhD,KAAE0I,WAArB,4BAQOT,M,SC9CAU,GAFUC,cATD,SAAClN,GACrB,MAAO,CACHnB,MAAOmB,EAAMqG,YAAYxH,SAO2E,CAACiO,QAAS7N,EAAQC,sBAArGgO,CAA6HX,ICcvIY,GAjBsB,SAACjF,GAClC,OACI,iCACI,eAAC,GAAD,CACAoC,QAAUpC,EAAMoC,QAChB3L,QAASuJ,EAAMvJ,QACfN,OAAQ6J,EAAM7J,OACd2L,aAAc9B,EAAM8B,aACpByB,UAAavD,EAAMuD,UACnBE,YAAczD,EAAMyD,cAGpB,eAAC,GAAD,QCpBRyB,GAA6B,SAACpN,GAC9B,MAAO,CACHuD,OAAQvD,EAAMyG,KAAKlD,SASpB,SAAS8J,GAAsBC,GAWlC,OAFqCJ,aAA2DE,GAA3DF,EAP2B,SAAChF,GAChCA,EAAxB3E,OADmE,IACxD6E,EADuD,aAC1CF,EAD0C,YAEvE,OAAKA,EAAM3E,OAEP,eAAC+J,EAAD,eAAelF,IAFO,eAAC,KAAD,CAAUmF,GAAI,c,ICE1CC,G,+MAEFnO,eAAiB,WACb,IAAIrB,GAAyB,EAAKkK,MAAM3K,MAAMkQ,OAAOpK,OAChDrF,IACDA,EAAS,EAAKkK,MAAMwF,gBAEhB,EAAKxF,MAAMyF,QAAQnI,KAAK,UAGhC,EAAK0C,MAAMvI,eAAe3B,GAC1B,EAAKkK,MAAM0F,UAAU5P,I,wDAGzB,WACI6P,KAAKxO,mB,gCAGT,SAAmByO,GACXD,KAAK3F,MAAM3K,MAAMkQ,OAAOpK,QAAUyK,EAAUvQ,MAAMkQ,OAAOpK,QACzDwK,KAAKxO,mB,oBAIb,WACI,OACI,eAAC,GAAD,2BAAawO,KAAK3F,OAAlB,IACIoC,SAAUuD,KAAK3F,MAAM3K,MAAMkQ,OAAOpK,OAClC1E,QAASkP,KAAK3F,MAAMvJ,QACpBN,OAAQwP,KAAK3F,MAAM7J,OACnB2L,aAAc6D,KAAK3F,MAAM8B,aACzByB,UAAWoC,KAAK3F,MAAMuD,UACtBE,YAAckC,KAAK3F,MAAMyD,mB,GAhCVE,KAAMyB,WA8CtBtG,eACXkG,cAVkB,SAAClN,GACnB,MAAO,CACHrB,QAASqB,EAAMqG,YAAY1H,QAC3BN,OAAQ2B,EAAMqG,YAAYhI,OAC1BqP,cAAe1N,EAAMyG,KAAKpD,OAC1BE,OAAQvD,EAAMyG,KAAKlD,UAKE,CAAEoI,Y3B8CJ,SAAChN,GAAD,8CAAqC,WAAOiB,EAAU4C,GAAjB,iBAAA3C,EAAA,sEACrC9B,EAAuBY,GADc,UACtDmB,EADsD,OAEtD9B,EAASwE,IAAWiE,KAAKpD,OAEH,IAAxBvD,EAAS8C,WAJ+C,gBAaxDhD,EAASD,EAAe3B,IAbgC,8BAexD4B,EAASmO,YAAW,eAAgB,CAAEC,OAAQlO,EAASa,SAAS,MAfR,kBAgBjDsN,QAAQC,OAAOpO,EAASa,SAAS,KAhBgB,4CAArC,yD2B9CiBhB,iBAAgBiO,U3BoBnC,SAAC5P,GAAD,8CAA+B,WAAO4B,GAAP,eAAAC,EAAA,sEAC/B9B,EAAqBC,GADU,OAChD8B,EADgD,OAEpDF,EAASX,EAAQK,gBAAgBQ,IAFmB,2CAA/B,uD2BpB8CkK,a3ByB3C,SAAC3L,GAAD,8CAA+B,WAAOuB,GAAP,SAAAC,EAAA,+EAE9B9B,EAAwBM,GAFM,OAIvB,IAJuB,OAItCuE,YACThD,EAASX,EAAQK,gBAAgBjB,IALc,uGAA/B,uD2BzByDoN,U3BsC5D,SAACD,GAAD,8CAA2B,WAAO5L,GAAP,eAAAC,EAAA,sEAC3B9B,EAAqByN,GADM,OAGpB,KAFxB1L,EAD4C,QAGnC8C,YACThD,EAASX,EAAQQ,aAAaK,EAAS1B,KAAKmC,SAJA,2CAA3B,yD2BrCrB4N,KACAd,GAHWrG,CAIbwG,I,wCCxDWY,GAAkB,WAC3B,IAAM5K,EAAa6K,cAAa,SAACrO,GAAD,OAAyBA,EAAMyG,KAAKjD,cAC9DD,EAAS8K,cAAY,SAACrO,GAAD,OAAyBA,EAAMyG,KAAKlD,UAEzD3D,EAAW0O,eAKjB,OAAI/K,EACO,eAAC,KAAD,CAAUgK,GAAG,aAGpB,+BACI,gBAAC,KAAD,CAAKgB,MAAQ,CAACC,UAAW,QAAzB,UACI,eAAC,KAAD,CAAKC,KAAO,EAAZ,SAAe,2BACf,gBAAC,KAAD,CAAKA,KAAO,GAAZ,UAAgB,wCACpB,eAACC,GAAD,CAAgB1F,SAXP,SAACxK,GpB6CD,IAACyE,EAAeC,EAAkBC,EAAqBC,EoB5CpExD,GpB4CcqD,EoB5CCzE,EAASyE,MpB4CKC,EoB5CE1E,EAAS0E,SpB4COC,EoB5CG3E,EAAS2E,WpB4CSC,EoB5CG5E,EAAS4E,QpB4CnE,uCAAsF,WAAOxD,GAAP,iBAAAC,EAAA,sEAClFmD,EAAcC,EAAOC,EAAUC,EAAYC,GADuC,QACnGtD,EADmG,QAG1F8C,aAAepF,EAAekG,QACvC9D,EAAS6D,MAGL3D,EAAS8C,aAAepF,EAAemR,gBACvC/O,EAAS+D,KAET5E,EAAUe,EAASa,SAASR,OAAS,EAAIL,EAASa,SAAS,GAAK,aACpEf,EAASmO,YAAW,QAAS,CAAEC,OAAQjP,MAX4D,2CAAtF,yDoBjCLyE,WAAYA,OAChB,eAAC,KAAD,CAAKiL,KAAO,EAAZ,SAAe,iCA4CrBC,GAAiB5F,aAA4C,CAC/DpC,KAAM,SADaoC,EApC8E,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,aAAclB,EAAwB,EAAxBA,MAAOrE,EAAiB,EAAjBA,WACzH,OACI,wBAAMwF,SAAUD,EAAhB,UACI,+BACKR,GAAqC,QAAS,QAAS,CAAC+D,IAAWhE,MAExE,+BACKC,GAAqC,WAAY,WAAY,CAAC+D,IAAWhE,GAAO,cAErF,iCACCC,QAAqCqG,EAAW,aAAc,GAAI,QAAS,YAAY,qDAEvFpL,GAAc,sBAAK8D,UAAWhD,KAAElB,QAASoE,IAAKhE,IAE9CA,GAAe+E,QAAqCqG,EAAW,UAAW,CAACtC,IAAWhE,IACrFT,GAAS,sBAAKP,UAAWhD,KAAEiF,iBAAlB,SACN1B,IAEL,+BACI,yBAAQP,UAAWhD,KAAEuK,SAArB,2B,oBC9CDC,GARyB,SAAC5G,GACrC,IAAI6G,EAAO,YAAc7G,EAAMpJ,GAE/B,OAAO,+BACH,eAAC,KAAD,CAASkQ,gBAAiB1K,KAAE2K,aAAc3H,UAAWhD,KAAE4K,OAAQ3B,GAAIwB,EAAnE,SAA0E7G,EAAMxH,UCHzEyO,GAJsB,SAACjH,GAClC,OAAO,sBAAKZ,UAAWhD,KAAE8K,OAAlB,SAA2BlH,EAAMnJ,WCoDtCsQ,IAnBYjD,GAAiB,KAmBPtD,aAAkC,CAACpC,KAAM,eAAzCoC,EAjB+C,SAACZ,GACxE,OACI,+BACI,wBAAMc,SAAUd,EAAMa,aAAczB,UAAWhD,KAAEgL,eAAjD,UACK/G,GAA0C,UAAW,iBAAkB,GAAKD,IAC7E,+BAAK,sDAcNiH,GA7CsB,SAACrH,GAElC,IAAIlI,EAAQkI,EAAM5B,YAEdkJ,EAAkBxP,EAAMS,QAAQuB,KAAI,SAAAyN,GAAC,OAAI,eAAC,GAAD,CAAY/O,KAAM+O,EAAE/O,KAAiB5B,GAAI2Q,EAAE3Q,IAAZ2Q,EAAE3Q,OAC1E4Q,EAAmB1P,EAAMW,SAASqB,KAAI,SAAA+D,GAAC,OAAI,eAAC,GAAD,CAAShH,QAASgH,EAAEhH,SAAcgH,EAAEjH,OAOnF,OACI,uBAAKwI,UAAWhD,KAAE7D,QAAlB,UACI,sBAAK6G,UAAWhD,KAAEqL,aAAlB,SACKH,IAEL,uBAAKlI,UAAWhD,KAAE3D,SAAlB,UACI,+BAAM+O,IACN,eAACL,GAAD,CAAqBrG,SAZP,SAAC6D,GACvB3E,EAAM0H,YAAY/C,EAAO9L,gBACzB8L,EAAO9L,eAAgB,aCVhBiG,eACXkG,cARkB,SAAClN,GACnB,MAAO,CACHsG,YAAatG,EAAMsG,eAME,CAACsJ,Y/BiCI,SAAC7O,GAAD,MAAoD,CAAE3B,KAAMoB,EAAcO,qB+BhCxGsM,GAFWrG,CAGbuI,I,oBCmCaM,GAxCmB,SAAC,GAAsD,IAApDC,EAAmD,EAAnDA,KAAMzN,EAA6C,EAA7CA,sBAAsB0N,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,OACvE,OACI,+BACI,uBAAK1I,UAAWhD,KAAEpC,MAAlB,UACI,iCACI,+BACI,eAAC,KAAD,CAASqL,GAAI,YAAcuC,EAAKhR,GAAhC,SACI,sBAAKwI,UAAWhD,KAAE6G,OAAQ3D,IAA0B,MAArBsI,EAAKvP,OAAO0P,MAAgBH,EAAKvP,OAAO0P,MAAQ5E,SAGvF,+BAAMyE,EAAKhN,SACL,yBAAQoN,SAAU7N,EACf8N,MAAK,SAAArR,GAAE,OAAIA,IAAOgR,EAAKhR,MAAKwI,UAAWhD,KAAE8L,UAAWrF,QAAS,WAC1DgF,EAASD,EAAKhR,KAFpB,sBAIA,yBAAQoR,SAAU7N,EACf8N,MAAK,SAAArR,GAAE,OAAIA,IAAOgR,EAAKhR,MAAKwI,UAAWhD,KAAE8L,UAAWrF,QAAS,WAC1DiF,EAAOF,EAAKhR,KAFlB,yBAOV,uBAAKwI,UAAWhD,KAAE+L,SAAlB,UACI,wBAAM/I,UAAWhD,KAAEgM,UAAnB,UACI,+BAAMR,EAAKpP,OACX,+BAAMoP,EAAKzR,YAGf,wBAAMiJ,UAAWhD,KAAEjH,SAAnB,UACI,2CACA,oD,8BCnCXkT,GAAUC,cAJE,SAACxQ,GACtB,OAAOA,EAAMwG,UAAUtE,SAG8B,SAACA,GACtD,OAAOA,EAAM7B,QAAO,SAAA4B,GAAC,OAAI,QAEhBwO,GAAW,SAACzQ,GACrB,OAAOA,EAAMyG,KAAKlD,QAETmN,GAAU,SAAC1Q,GACpB,OAAOA,EAAMyG,KAAKnD,OAGTqN,GAAc,SAAC3Q,GACxB,OAAOA,EAAMwG,UAAUpF,UAGdwP,GAAqB,SAAC5Q,GAC/B,OAAQA,EAAMwG,UAAUrE,iBAEf0O,GAAiB,SAAC7Q,GAC3B,OAAQA,EAAMwG,UAAUrF,aAEf2P,GAAgB,SAAC9Q,GAC1B,OAAOA,EAAMwG,UAAUpE,YAEd2O,GAA2B,SAAC/Q,GACrC,OAAOA,EAAMwG,UAAUnE,uBAEb2O,GAAiB,SAAChR,GAC5B,OAAOA,EAAMwG,UAAUnG,QC5BrB4Q,GAAqB,SAACpE,GAIxB,MAFe,IAiDJqE,GArC4CrF,KAAMW,MAAK,SAACtE,GACnE,IAAM7H,EAASgO,aAAY2C,IAU3B,OACI,+BACI,eAAC,KAAD,CACIG,oBAAqB,EACrBzF,cAAe,CAAErK,KAAMhB,EAAOgB,KAAMC,OAAQ8P,OAAO/Q,EAAOiB,SAC1DsH,SAAUqI,GACVjI,SAdG,SAAC6D,EAAD,GAC6C,EADxBwE,cACyB,IAC/ChR,EAAqB,CAACgB,KAAMwL,EAAOxL,KAEzCC,OAA0B,SAAlBuL,EAAOvL,OAAoB,KAAyB,SAAlBuL,EAAOvL,QACjD4G,EAAMoJ,gBAAgBjR,IAKtB,SAMK,kBACG,gBAAC,KAAD,WACI,eAAC,KAAD,CAAOjB,KAAK,OAAOsB,KAAK,SACxB,gBAAC,KAAD,CAAOA,KAAO,SAAS6Q,GAAI,SAA3B,UACI,yBAAQpH,MAAM,OAAd,iBACA,yBAAQA,MAAM,OAAd,0BACA,yBAAQA,MAAM,QAAd,+BAEJ,yBAAQ/K,KAAK,SAAb,+B,UCgDToS,GAjFoB3F,KAAMW,MAAK,WAG1C,IAAMrK,EAAkBkM,aAAYuC,IAC9BzP,EAAckN,aAAYwC,IAC1BzP,EAAWiN,aAAYsC,IACvBtQ,EAASgO,aAAY2C,IACrB9O,EAAQmM,aAAYkC,IACpBlO,EAAwBgM,aAAY0C,IACpC3O,EAAYiM,aAAYyC,IAGxBnD,EAAU8D,eAEV7R,EAAW0O,eAGjBzE,sBAAU,WAEN,IAAM6H,EAASC,SAAkBhE,EAAQtQ,SAASuU,OAAOC,OAAO,IAE5DC,EAAa3Q,EACb4Q,EAAe1R,EAEbqR,EAAOM,OAAMF,GAAcJ,EAAOM,MAClCN,EAAOrQ,OAAM0Q,EAAY,2BAAOA,GAAP,IAAqB1Q,KAAMqQ,EAAOrQ,QAC3DqQ,EAAOpQ,SAAQyQ,EAAY,2BAAOA,GAAP,IAAqBzQ,OAAyB,SAAjBoQ,EAAOpQ,OAAmB,KAAyB,SAAlBoQ,EAAOpQ,UACtG1B,EAASsB,EAAS4Q,EAAY1Q,EAAU2Q,MAC1C,IAGFlI,sBAAU,WACN,IAAMoI,EAAyB,GAC1B5R,EAAOgB,OAAM4Q,EAAM5Q,KAAOhB,EAAOgB,MACf,SAAlBhB,EAAOiB,SAAiB2Q,EAAM3Q,OAAS8P,OAAO/Q,EAAOiB,SACvC,IAAhBH,IAAmB8Q,EAAMD,KAAOZ,OAAOjQ,IAE1CwM,EAAQnI,KACJ,CACI0M,SAAU,SACVN,OAAQD,aAAsBM,OAGxC,CAAC5R,EAAQc,IAEX,IAQMI,EAAQ,SAACvD,G/B8CG,IAACc,E+B7Cfc,G/B6Ced,E+B7CCd,E/B6CF,uCAA2B,WAAO4B,GAAP,eAAAC,EAAA,6DACzC6C,EAAYzB,EAASM,OAAO4Q,KAAKrT,GADQ,SAEvC2D,EAAmB7C,EAAUd,EAAI4D,EAAWzD,GAFL,2CAA3B,yD+B3CZmT,EAAY,SAACpU,G/BgDC,IAACc,E+B/CjBc,G/B+CiBd,E+B/CCd,E/B+CF,uCAA2B,WAAO4B,GAAP,eAAAC,EAAA,6DAC3C6C,EAAYzB,EAASQ,SAAS0Q,KAAKrT,GADQ,SAEzC2D,EAAmB7C,EAAUd,EAAI4D,EAAWzD,GAFH,2CAA3B,yD+B5CpB,OACI,iCACM,eAAC,KAAD,CAAYsP,MAAO,CAAE8D,OAAQ,QAAUC,iBAAiB,EAAOlR,SAAUA,EAAUmR,QAASpR,EAC1FqR,YAAY,EAAMC,KAAK,UACvBxI,SAnBQ,SAACyI,GACjB9S,EAASsB,EAASwR,EAAYtR,EAAUf,KAkBTsS,MAAOxQ,IAElC,eAAC,GAAD,CAAiBmP,gBAjBD,SAACjR,GACrBT,EAASsB,EAAS,EAAGE,EAAUf,OAiBzB+B,EAAa,eAAC,GAAD,IACXF,EAAMF,KAAI,SAAAC,GAAC,OAAI,eAAC,GAAD,CAAM6N,KAAM7N,EACvBI,sBAAuBA,EACvB2N,OAAQzO,EACRwO,SAAUqC,GACLnQ,EAAEnD,aC1Ed8T,GAAyC,SAAC1K,GACjCmG,aAAYyC,IAE9B,OAAQ,qCAEA,eAAC,GAAD,O,+GCqBG+B,GA3Ba,SAAC3K,GACzB,IAAM3E,EAAS8K,aAAYoC,IACrBnN,EAAQ+K,aAAYqC,IACpB9Q,EAAW0O,eAKjB,OAAO,gBAAC,UAAD,CAAQhH,UAAU,yBAAyBiH,MAAO,CAAEuE,QAAS,GAA7D,UAGH,eAAC,KAAD,CAASvF,GAAG,WAAWyB,gBAAiB1K,KAAEyO,aAG1C,uBAAMzL,UAAWhD,KAAE0O,MAAnB,0BACA,uBAAK1L,UAAWhD,KAAE2O,WAAlB,eAAiC1P,EAEjC,qCAAM,eAAC,KAAD,CAASgK,GAAG,SAAZ,SAAqB,gCAAOjK,MAAlC,KAA2D,eAAC,KAAD,CAASiK,GAAG,SAAZ,SACvD,eAAC,KAAD,CAAQxC,QAbA,WACZnL,E9BiEc,uCAAgB,WAAOA,GAAP,SAAAC,EAAA,sEAEbmD,IAFa,cAIrBJ,aAAepF,EAAekG,SACvC9D,EAASX,EAAwB,KAAM,KAAM,MAAM,IALrB,2CAAhB,wD8BrDiBiU,QAAS,EAAM9T,KAAK,UAA/C,0BAGJ,uBAAMkI,UAAWhD,KAAEhB,MAAnB,2BCxBK6P,GAAqB,WAC9B,OACI,+BACI,eAAC,GAAD,OAKNC,GAAiB,WAEnB,IAAMxT,EAAW0O,eACXjQ,EAASgQ,cAAY,SAACrO,GAAD,OAAyBA,EAAM6G,SAASxI,UASnE,OARAwL,sBAAU,WAEN,OADAjK,E5BsD8B,uCAAkB,WAAOA,GAAP,SAAAC,EAAA,sDACpDwF,KACAA,GAAkB,mBAAoBM,GAAyB/F,IAC/DyF,GAAkB,iBAAiBQ,GAA4BjG,IAHX,2CAAlB,uD4BrDvB,WACNA,E5ByD4B,uCAAkB,WAAOA,GAAP,SAAAC,EAAA,sDACnDwF,GAAoB,mBAAmBM,GAAyB/F,IAChEyF,GAAoB,iBAAiBQ,GAA4BjG,IACjEyF,KAHmD,2CAAlB,0D4BxD9B,IAKC,iCACe,SAAVhH,GAAqB,2CACtB,uCACA,eAACgV,GAAD,IACA,eAAC,GAAD,WAONA,GAAqBxH,KAAMW,MAAM,WACnC,IAAM7L,EAAW0N,cAAY,SAACrO,GAAD,OAAwBA,EAAM6G,SAASlG,YAC9D2S,EAAcC,kBAAuB,MAFF,EAGL9J,qBAAS,GAHJ,oBAGlC+J,EAHkC,KAGdC,EAHc,KAmBzC,OANA5J,sBAAU,WACmB,IAAD,EAApB2J,IACA,UAAAF,EAAYf,eAAZ,SAAqBmB,eAAe,CAACC,SAAU,cAEpD,CAAChT,IAGA,uBAAK4N,MAAO,CAAEqF,OAAQ,QAASC,SAAU,OAAQrF,UAAW,OAAQsE,QAAS,QAC7EgB,SAjBkB,SAACpP,GACnB,IAAIqP,EAAUrP,EAAEwF,cACZ8J,KAAKC,IAAKF,EAAQG,aAAeH,EAAQI,UAAaJ,EAAQK,cAAc,IAC5EX,GAAM,GAENA,GAAM,IAWV,UAEK9S,EAASqB,KAAI,SAAC+D,EAAgBE,GAAjB,OAA2B,eAAC,GAAD,CAAqBlH,QAASgH,GAAhBE,MACvD,sBAAKoO,IAAKf,UAKhBnE,GAA8CtD,KAAMW,MAAK,YAAkB,IAAfzN,EAAc,EAAdA,QAE9D,OADAmF,QAAQC,IAAI,WAER,uBAAKoK,MAAO,CAAE+F,OAAQ,mBAAoBC,WAAY,OAAQlC,OAAQ,QAAtE,UACI,iCACI,sBAAK9D,MAAO,CAAEiG,MAAO,OAAQC,aAAc,OAASjN,IAAKzI,EAAQW,QACjE,oBAAG6O,MAAO,CAAEmG,WAAY,QAAxB,SAAmC3V,EAAQ4V,cAE/C,sBAAKpG,MAAO,CAAEmG,WAAY,QAA1B,SACK3V,EAAQA,gBAKnB6V,GAA2B,WAAO,IAAD,EACLnL,oBAAS,IADJ,oBAC5B1K,EAD4B,KACnB8V,EADmB,KAE7BxW,EAASgQ,cAAY,SAACrO,GAAD,OAAyBA,EAAM6G,SAASxI,UAG7DuB,EAAW0O,eAYjB,OACI,iCACI,+BACI,2BAAUC,MAAO,CAAEiG,MAAO,QAASE,WAAY,OAAQI,OAAQ,QAC3D7K,SAAU,SAACvF,GAAD,OAAOmQ,EAAWnQ,EAAEwF,cAAcC,QAAQA,MAAOpL,MAGnE,+BACI,eAAC,KAAD,CAAQmR,SAAoB,SAAV7R,EAAmBkQ,MAAO,CAAEmG,WAAY,QACtDxB,QAAQ,EAAMnI,QAnBH,WAClBhM,IAIDa,E5BTe,SAACb,GAAD,6BAAiC,sBAAAc,EAAA,sDACxDwF,GAAoBtG,GADoC,2C4BSvC6Q,CAAY7Q,IACrB8V,EAAW,MAYP,wB,yCCtGRE,GAASC,KAATD,KACKE,GAAS,WAClB,OACI,sBAAK3N,UAAWhD,KAAE4Q,KAAlB,SACI,eAAC,KAAD,CACIC,WAAS,EACT5G,MAAO,CAAEiG,MAAO,KAChBY,MACI,sBACIC,IAAI,UACJ7N,IAAI,yJANhB,SAWI,eAACuN,GAAD,CACI5J,OAAQ,eAAC,KAAD,CAAQ3D,IAAI,qEACpBwL,MAAM,aACNsC,YAAY,iCCjBnBC,GAAY,WAErB,OACI,uBAAKjO,UAAWhD,KAAEkR,aAAlB,UACI,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,QCKJC,GAA2BC,KAA3BD,QAASE,GAAkBD,KAAlBC,OAAQC,GAAUF,KAAVE,MAQnBC,G,+MAEF7V,MAAQ,CACJ8V,WAAW,G,EAGfC,WAAa,SAACD,GACV,EAAKE,SAAS,CAAEF,e,EAGpBG,wBAA0B,SAACvR,GACvBwR,MAAM,e,wDAEV,WACIrI,KAAK3F,MAAMiO,eACX/Y,OAAOgI,iBAAiB,qBAAsByI,KAAKoI,2B,kCAGvD,WACI7Y,OAAO6H,oBAAoB,qBAAsB4I,KAAKoI,2B,oBAG1D,WAAU,IACEH,EAAcjI,KAAK7N,MAAnB8V,UACR,OAAKjI,KAAK3F,MAAMpE,cAIZ,gBAAC,KAAD,CAAQyK,MAAO,CAAE6H,UAAW,SAA5B,UACI,gBAACR,GAAD,CAAOS,aAAW,EAACP,UAAWA,EAAWC,WAAYlI,KAAKkI,WAA1D,UACI,+BAAM,sBAAMzO,UAAU,OAAOE,IAAI,mEACjC,gBAAC,KAAD,CAAM8O,MAAM,OAAOC,oBAAqB,CAAC,KAAMC,KAAK,SAApD,UACI,eAAC,KAAKC,KAAN,CAAmBC,KAAM,eAACC,GAAA,EAAD,IAAzB,SACI,eAAC,KAAD,CAASpJ,GAAG,WAAZ,0BADW,KAGf,eAAC,KAAKkJ,KAAN,CAAmBC,KAAM,eAACE,GAAA,EAAD,IAAzB,SACI,eAAC,KAAD,CAASrJ,GAAG,WAAZ,sBADW,KAGf,eAAC,KAAKkJ,KAAN,CAAmBC,KAAM,eAACG,GAAA,EAAD,IAAzB,SACI,eAAC,KAAD,CAAStJ,GAAG,SAAZ,oBADW,KAGf,eAAC,KAAKkJ,KAAN,CAAmBC,KAAM,eAACI,GAAA,EAAD,IAAzB,SACI,eAAC,KAAD,CAASvJ,GAAG,QAAZ,mBADW,KAGf,eAAC,KAAKkJ,KAAN,CAAmBC,KAAM,eAACK,GAAA,EAAD,IAAzB,SACI,eAAC,KAAD,CAASxJ,GAAG,SAAZ,oBADW,WAKvB,gBAAC,KAAD,CAAQjG,UAAU,cAAlB,UACI,eAAC,GAAD,IACA,eAACmO,GAAD,CAASlH,MAAO,CAAE8D,OAAQ,UAA1B,SACI,gBAAC,KAAD,WACI,eAAC,KAAD,CAAU2E,OAAK,EAACC,KAAK,IAAI1J,GAAG,aAC5B,eAAC,KAAD,CAAOwB,KAAK,WACRmI,OAAQ,WACJ,OAAO,eAACC,GAAD,OAGf,eAAC,KAAD,CAAOpI,KAAK,oBACRmI,OAAQ,kBAAM,eAAC,GAAD,OAClB,eAAC,KAAD,CAAOnI,KAAK,qBACRmI,OAAQ,kBAAM,eAAC,GAAD,OAElB,eAAC,KAAD,CAAOnI,KAAK,SACRmI,OAAQ,kBAAM,eAAC,GAAD,OAClB,eAAC,KAAD,CAAOnI,KAAK,SACRmI,OAAQ,kBAAM,eAAC,GAAD,OAClB,eAAC,KAAD,CAAOnI,KAAK,QACRmI,OAAQ,kBAAM,eAAC,GAAD,OAClB,eAAC,KAAD,CAAOnI,KAAK,SACRmI,OAAQ,kBAAM,eAAC,GAAD,YAG1B,eAACvB,GAAD,CAAQpH,MAAO,CAAE6I,UAAW,UAA5B,iEAjDD,eAAC,GAAD,Q,GAzBDvL,KAAMyB,WAmFTtG,eACXmH,KACAjB,cALoB,SAAClN,GAAD,MAA0B,CAC9C8D,cAAe9D,EAAM4G,IAAI9C,iBAIA,CAAEqS,ajCrFH,kBAAiB,SAACvW,GAC1C,IAAIyX,EAAkBzX,EAAS6D,KAE/BwK,QAAQqJ,IAAI,CAACD,IAAkBnZ,MAAK,WAChC0B,EAASX,aiC+EF+H,CAGb6O,IC/GF0B,KAASL,OACL,eAAC,KAAD,UACI,eAAC,KAAD,CAAUjQ,MAAOA,GAAjB,SACI,eAAC,GAAD,QAEUuQ,SAASC,eAAe,S9CmHxC,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM1Z,MAAK,SAAA2Z,GACjCA,EAAaC,iB,mB+ClInB7a,EAAOC,QAAU,CAAC,iBAAmB,sCAAsC,OAAS,4BAA4B,YAAc,iCAAiC,OAAS,4BAA4B,QAAU,6BAA6B,QAAU,6BAA6B,iBAAmB,wC,mBCArSD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,SAAW,0BAA0B,QAAU,yBAAyB,OAAS,wBAAwB,aAAe,8BAA8B,KAAO,sBAAsB,eAAiB,kC,mBCAtSD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,UAAY,yBAAyB,YAAc,2BAA2B,SAAW,wBAAwB,MAAQ,qBAAqB,OAAS,sBAAsB,UAAY,yBAAyB,SAAW,wBAAwB,aAAe,4BAA4B,KAAO,oBAAoB,UAAY,4B","file":"static/js/main.d0559f38.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3vmwz\",\"profilePH\":\"Post_profilePH__3UCF8\",\"postText\":\"Post_postText__N8KPb\",\"like\":\"Post_like__xqKg3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2MWe9\",\"error\":\"FormControls_error__3Ztry\",\"formSummaryError\":\"FormControls_formSummaryError__2TFZp\",\"text\":\"FormControls_text__2SF-c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__GVH_v\",\"posts\":\"MyPosts_posts__3JNgW\",\"addPostBTN\":\"MyPosts_addPostBTN__4Hplh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__o1S2-\",\"title\":\"Header_title__JxuRg\",\"loginBlock\":\"Header_loginBlock__2JIDk\",\"login\":\"Header_login__1-vnv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrappedBlock\":\"Music_wrappedBlock__3tHZ0\",\"card\":\"Music_card__pfE-t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"email\":\"Login_email__1L1dZ\",\"pass\":\"Login_pass__RENn2\",\"remember\":\"Login_remember__2ISws\",\"formSummaryError\":\"Login_formSummaryError__6n6nu\",\"loginBTN\":\"Login_loginBTN__3Sip5\",\"captcha\":\"Login_captcha__uoZTn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderIMG\":\"Preloader_preloaderIMG__34bRm\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport { ProfileType } from '../types/types';\r\n\r\nexport const axiosInstance = axios.create(\r\n    {\r\n        withCredentials: true,\r\n        baseURL: 'https://social-network.samuraijs.com/api/1.0',\r\n        headers: { \"API-KEY\": \"97132c0f-39d9-4230-aaf8-d365f7c03dce\" }\r\n    }\r\n);\r\n\r\nexport enum ResultCodeEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n    CaptchRequired = 10\r\n}\r\n\r\nexport type ResponseType<D = {}> = {\r\n    data: D\r\n    resultCode: ResultCodeEnum\r\n    messages: Array<string>\r\n}\r\n","import { axiosInstance, ResponseType, ResultCodeEnum } from \"./api\";\r\nimport { PhotosType, ProfileType } from '../types/types';\r\n\r\ntype SavePhotoResponseType = {\r\n    photos: PhotosType\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number| null) {\r\n        return axiosInstance.get<ProfileType>(`/profile/${userId}`).then(res => res.data)\r\n    },\r\n    getStatus(userId: number| null) {\r\n        return axiosInstance.get<string>(`/profile/status/` + userId).then(res => res.data);//no types is API DOCS\r\n    },\r\n    updateStatus(status: string) {\r\n        return axiosInstance.put<ResponseType>(`/profile/status`, { status: status }).then(res => res.data);\r\n    },\r\n    savePhoto(photoFile: any){\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n\r\n        return axiosInstance.put<ResponseType<SavePhotoResponseType>>(`/profile/photo`, formData, {headers: \r\n            {\"Content-Type\": 'multipart/form-data'}} ).then(res => res.data);\r\n    },\r\n\r\n    saveProfile(profile: ProfileType){\r\n        return axiosInstance.put<ResponseType>(`/profile`, profile).then(res => res.data);\r\n    }\r\n}","import { profileAPI } from \"../API/profile-api\";\r\nimport { usersAPI } from \"../API/users-api\";\r\nimport { stopSubmit } from \"redux-form\";\r\nimport { PostType, ProfileType, PhotosType } from \"../types/types\"\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { AppStateType, InferActionsTypes } from \"./redux-store\";\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: 'Hi, how are you?', likesCount: 12 },\r\n        { id: 2, message: 'It\\'s my first post', likesCount: 11 },\r\n        { id: 3, message: 'Blabla', likesCount: 11 },\r\n        { id: 4, message: 'Dada', likesCount: 11 }\r\n    ] as Array<PostType>, \r\n    status: \"\",\r\n    profile: null as ProfileType | null\r\n};\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n\r\nconst profileReducer = (state = initialState, action: ActionsType): initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'ADD_POST': {\r\n            let newPostID = state.posts.length;\r\n            let newPost = {\r\n                id: newPostID,\r\n                message: action.newPostBody,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        case 'SET_USER_PROFILE': {\r\n\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n\r\n        }\r\n        case 'DELETE_POST': {\r\n\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postID)\r\n            };\r\n\r\n        }\r\n        case 'SET_STATUS': {\r\n\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        }\r\n        case 'SET_PHOTO': {\r\n            return { ...state, profile: { ...state.profile, photos: action.photo } as ProfileType}\r\n\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//ACs\r\nexport const actions = {\r\n    addPostActionCreator: (newPostBody: string) => ({ type: 'ADD_POST', newPostBody }as const),\r\n    setUserProfile: (profile: ProfileType) => ({ type: 'SET_USER_PROFILE', profile }as const),\r\n    setUserStatusAC: (status: string) => ({ type: 'SET_STATUS', status }as const),\r\n    deletePost: (postID: number)  => ({ type: 'DELETE_POST', postID }as const),\r\n    setUserPhoto: (photo: PhotosType) => ({ type: 'SET_PHOTO', photo }as const)\r\n}\r\n\r\n\r\n//thunks\r\n\r\ntype ThunksType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsType | ReturnType<typeof stopSubmit>>\r\n\r\nexport const getUserProfile = (userId: number | null):ThunksType => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(actions.setUserProfile(response));\r\n}\r\n\r\nexport const getStatus = (userId: number):ThunksType => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(actions.setUserStatusAC(response));\r\n}\r\n\r\nexport const updateStatus = (status: string):ThunksType => async (dispatch) => {\r\n    try {\r\n        let response = await profileAPI.updateStatus(status)\r\n\r\n        if (response.resultCode === 0) {\r\n            dispatch(actions.setUserStatusAC(status));\r\n        }\r\n    }\r\n    catch (error) {\r\n\r\n    }\r\n\r\n}\r\nexport const savePhoto = (file: File):ThunksType => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(actions.setUserPhoto(response.data.photos));\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile: ProfileType):ThunksType => async (dispatch, getState) => {\r\n    const response = await profileAPI.saveProfile(profile)\r\n    const userId = getState().auth.userID;\r\n\r\n    if (response.resultCode === 0) {\r\n        /*if(userId === null) \r\n        {\r\n            dispatch(getUserProfile(userId));\r\n        }\r\n        else{\r\n            //throw new Error(\"User id is NULL!\")\r\n            dispatch(getUserProfile(userId));\r\n        }*/\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", { _error: response.messages[0] }));\r\n        return Promise.reject(response.messages[0]);\r\n    }\r\n}\r\n\r\nexport default profileReducer;","\r\nexport type initialStateType = {\r\n dialogs: { id: number, name: string }[],\r\n messages: {id: number, message: string}[]\r\n}\r\ntype sendMessageActionType = {\r\n    type: typeof SEND_MESSAGE, newMessageBody: string\r\n};\r\n\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState: initialStateType = {\r\n    dialogs: [\r\n        { id: 1, name: 'Anna' },\r\n        { id: 2, name: 'Vitaliy' },\r\n        { id: 3, name: 'Ivan' },\r\n        { id: 4, name: 'Dima' }\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'How are you?' },\r\n        { id: 3, message: 'Yo' },\r\n        { id: 4, message: 'Yo' },\r\n        { id: 5, message: 'Yo' }\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action: sendMessageActionType ): initialStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n\r\n        case SEND_MESSAGE:\r\n            let newMessageID = state.messages.length;\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: newMessageID, message: body }],\r\n            };\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const sendMessageCreator = (newMessageBody: string):sendMessageActionType  => ({ type: SEND_MESSAGE, newMessageBody })\r\n\r\nexport default dialogsReducer;","type initialStateType = typeof initialState\r\n\r\nlet initialState = {}\r\n\r\n\r\nconst sidebarReducer = (state = initialState, action: any) => {\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer","import { UserType } from \"../types/types\"\r\nimport { axiosInstance, ResponseType } from \"./api\"\r\n\r\ntype getUsersType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: null | string\r\n }\r\n\r\n//done\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number, term: string = \"\", friend: null | boolean = null) {\r\n        return axiosInstance.get<getUsersType>(`/users?page=${currentPage}&count=${pageSize}&term=${term}`+(friend ===null ? \"\": `&friend=${friend}`))\r\n        .then(response => { return response.data })\r\n    },\r\n    Follow(id: number) {\r\n        return axiosInstance.post<Promise<ResponseType>>(`/follow/${id}`).then(response => { return response.data })\r\n    },\r\n    unFollow(id: number) {\r\n        return axiosInstance.delete<Promise<ResponseType>>(`/follow/${id}`).then(response => { return response.data })\r\n    }\r\n}","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../API/users-api\";\r\nimport { updateObjectInArray } from \"../Utilits/helpers/object-helper\";\r\nimport { UserType } from \"../types/types\"\r\nimport { AppStateType, InferActionsTypes } from \"./redux-store\";\r\nimport { Dispatch } from \"redux\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { ResponseType } from \"../API/api\";\r\n\r\n\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    isFollowingInProgress: [] as Array<number>,\r\n    filter:{\r\n        term: \"\",\r\n        friend: null as null | boolean\r\n    }\r\n};\r\n\r\nexport type initialStateType = typeof initialState\r\nexport type FilterType = typeof initialState.filter\r\n\r\nconst usersReducer = (state = initialState, action: ActionsType): initialStateType => {\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true })\r\n            }\r\n        case 'UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false })\r\n            }\r\n\r\n        case 'SET_USERS':\r\n            return { ...state, users: action.users }\r\n\r\n        case 'SET_CURRENT_PAGE':\r\n            return { ...state, currentPage: action.currentPage }\r\n        case 'SET_TOTAL_USERS_COUNT':\r\n            return { ...state, totalUsersCount: action.totalCount }\r\n        case 'TOGGLE_IS_FETCHING':\r\n            return { ...state, isFetching: action.isFetching }\r\n        case 'TOGGLE_IS_FOLLOWING_PROGRESS':\r\n            return {\r\n                ...state,\r\n                isFollowingInProgress: action.isFollowingInProgress\r\n                    ? [...state.isFollowingInProgress, action.userId]\r\n                    : state.isFollowingInProgress.filter(id => id != action.userId)\r\n            }\r\n        case 'SET_FILTER':\r\n            return{...state, filter: action.payload}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n// ACs\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n\r\nexport const actions = {\r\n    setFilter: (filter: FilterType) => { return { type: 'SET_FILTER', payload: filter } as const },\r\n    followSuccess: (userId: number) => { return { type: 'FOLLOW', userId } as const },\r\n    unfollowSuccess: (userId: number) => { return { type: 'UNFOLLOW', userId } as const },\r\n    setUsers: (users: Array<UserType>) => { return { type: 'SET_USERS', users } as const },\r\n    setCurrentPage: (currentPage: number) => { return { type: 'SET_CURRENT_PAGE', currentPage } as const },\r\n    setTotalUsersCount: (totalCount: number) => { return { type: 'SET_TOTAL_USERS_COUNT', totalCount } as const },\r\n    setIsFetching: (isFetching: boolean) => { return { type: 'TOGGLE_IS_FETCHING', isFetching } as const },\r\n    toggleIsFollowing: (isFollowingInProgress: boolean, userId: number) => { return { type: 'TOGGLE_IS_FOLLOWING_PROGRESS', isFollowingInProgress, userId } as const }\r\n}\r\n\r\n\r\n//thunks\r\ntype DispatchType = Dispatch<ActionsType>\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsType>\r\nexport const getUsers = (currentPage: number, pageSize: number, filter: FilterType):\r\n    ThunkType =>\r\n    async (dispatch, getState) => {\r\n        dispatch(actions.setIsFetching(true));\r\n        dispatch(actions.setCurrentPage(currentPage));\r\n        dispatch(actions.setFilter(filter))\r\n\r\n        let data = await usersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend);\r\n\r\n        dispatch(actions.setUsers(data.items));\r\n        dispatch(actions.setTotalUsersCount(data.totalCount));\r\n        dispatch(actions.setIsFetching(false));\r\n    }\r\n\r\n\r\nexport const getUsersOnPageClick = (currentPage: number, pageSize: number):\r\n    ThunkType => async (dispatch) => {\r\n        dispatch(actions.setCurrentPage(currentPage));\r\n        dispatch(actions.setIsFetching(true));\r\n        let data = await usersAPI.getUsers(currentPage, pageSize);\r\n        dispatch(actions.setUsers(data.items));\r\n        dispatch(actions.setIsFetching(false));\r\n    }\r\n\r\nconst followUnfollowFlow = async (dispatch: DispatchType, id: number,\r\n    apiMethod: (userId: number) => Promise<ResponseType>, actionCreator: (id: number) => ActionsType) => {\r\n    dispatch(actions.toggleIsFollowing(true, id));\r\n    let response = await apiMethod(id);\r\n\r\n    if (response.resultCode == 0) {\r\n        dispatch(actionCreator(id))\r\n    }\r\n    dispatch(actions.toggleIsFollowing(false, id));\r\n}\r\n\r\nexport const follow = (id: number): ThunkType => async (dispatch) => {\r\n    let apiMethod = usersAPI.Follow.bind(id);\r\n    await followUnfollowFlow(dispatch, id, apiMethod, actions.followSuccess);\r\n}\r\n\r\nexport const unfollow = (id: number): ThunkType => async (dispatch) => {\r\n    let apiMethod = usersAPI.unFollow.bind(id);\r\n    await followUnfollowFlow(dispatch, id, apiMethod, actions.unfollowSuccess);\r\n}\r\n\r\n\r\n\r\nexport default usersReducer;","import { axiosInstance } from \"./api\";\r\n\r\ntype getCaptchaType = {\r\n    url: string\r\n}\r\nexport const securityAPI = {\r\n    getCaptcha(){\r\n        return axiosInstance.get<getCaptchaType>(`/security/get-captcha-url`).then(res => res.data);\r\n    }\r\n}","import { axiosInstance, ResponseType } from \"./api\";\r\n\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return axiosInstance.get<ResponseType<{id: number, email: string, login: string }>>(`/auth/me`).then(res => res.data);\r\n    },\r\n    login(email: string, password: string , rememberMe = false, captcha: null | string =null) {\r\n        return axiosInstance.post<ResponseType<{userId: number }>>(`/auth/login`, { email, password, rememberMe, captcha }).then(res => res.data);\r\n    },\r\n    logout() {\r\n        return axiosInstance.delete<ResponseType>(`/auth/login`).then(res => res.data);\r\n    }\r\n}","import { stopSubmit } from \"redux-form\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { securityAPI } from \"../API/security-api\";\r\nimport { authAPI } from \"../API/auth-api\";\r\nimport { AppStateType, InferActionsTypes } from \"./redux-store\";\r\nimport {ResultCodeEnum} from \"./../API/api\"\r\n\r\nexport type initialStateType ={\r\n    userID: null | number,\r\n    email: null | string,\r\n    login: null | string,\r\n    isAuth: boolean,\r\n    captchaURL: null | string\r\n}\r\n\r\nlet initialState:initialStateType  = {\r\n    userID: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    captchaURL: null as string | null\r\n};\r\n\r\nconst authReducer = (state = initialState, action: ActionsType):initialStateType  => {\r\n    switch (action.type) {\r\n        case 'SET_USER_DATA':\r\n        case 'GET_CAPTCHA_URL_SUCCESS':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n\r\n\r\nexport const actions ={\r\n    setAuthUserData: (userID: number | null, email: string | null, login: string | null, isAuth: boolean) => {\r\n        return {\r\n            type: 'SET_USER_DATA', payload:\r\n                { userID, email, login, isAuth }\r\n        }\r\n    },\r\n    getCaptchaURLSuccess: (captchaURL: string) => {\r\n        return {\r\n            type: 'GET_CAPTCHA_URL_SUCCESS', payload: {captchaURL}\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n//thunks\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsType | ReturnType<typeof stopSubmit>>\r\n\r\nexport const getAuthUserData = ():ThunkType => async (dispatch) => {\r\n    let response = await authAPI.authMe();\r\n\r\n    if (response.resultCode === ResultCodeEnum.Success) {\r\n        let { id, login, email } = response.data;\r\n        dispatch(actions.setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const logIn = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha)\r\n\r\n    if (response.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(getAuthUserData())\r\n    } \r\n    else{\r\n        if (response.resultCode === ResultCodeEnum.CaptchRequired){\r\n            dispatch(getCaptchaURL());\r\n        }\r\n        let message = response.messages.length > 0 ? response.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"Login\", { _error: message }));\r\n    }\r\n}\r\n\r\nexport const logout = ():ThunkType => async (dispatch) => {\r\n\r\n    let response = await authAPI.logout()\r\n\r\n    if (response.resultCode === ResultCodeEnum.Success) {\r\n        dispatch(actions.setAuthUserData(null, null, null, false));\r\n    }\r\n\r\n}\r\n\r\nexport const getCaptchaURL = (): ThunkType => async (dispatch) => {\r\n\r\n    const response = await securityAPI.getCaptcha();\r\n    const captchaURL = response.url;\r\n\r\n    dispatch(actions.getCaptchaURLSuccess(captchaURL));\r\n}\r\n\r\nexport default authReducer;","import { ThunkAction } from \"redux-thunk\";\r\nimport { getAuthUserData } from \"./auth-reduser\";\r\nimport { AppStateType, InferActionsTypes } from \"./redux-store\";\r\n\r\nexport type initialStateType = {\r\n    isInitialized: boolean\r\n}\r\n\r\nlet initialState: initialStateType = {\r\n    isInitialized: false\r\n}; \r\n\r\n\r\nconst appReduser = (state = initialState, action: ActionsType):initialStateType  => {\r\n    switch (action.type) {\r\n        case 'INITIALIZED_SUCCESED': \r\n            return {\r\n                ...state,\r\n                isInitialized : true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nconst actions ={\r\n    initializedSuccess: () => ({type: 'INITIALIZED_SUCCESED'} as const)\r\n}\r\n\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsType>\r\n\r\nexport const initilizeApp = ():ThunkType  => (dispatch) =>{\r\n    let dispatchPromise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([dispatchPromise]).then(()=>{\r\n        dispatch(actions.initializedSuccess());\r\n    })\r\n    \r\n}\r\n\r\nexport default appReduser;","let newWS: WebSocket | null = null\r\nexport type StatusType = 'pending' | 'ready' | 'error'\r\n\r\nconst closeHandler = () => {\r\n    console.log(\"WS closed\")\r\n    subscribers['status-changed'].forEach(s => s('pending'))\r\n    setTimeout(createChannel, 3000)\r\n}\r\ntype EventType = 'message-received' | 'status-changed'\r\n\r\nconst messageHandler = (e:MessageEvent) => {\r\n    const newMesage = JSON.parse(e.data)\r\n    subscribers['message-received'].forEach(s => s(newMesage))\r\n} \r\nconst openHandler = () => {\r\n    subscribers['status-changed'].forEach(s => s('ready'))\r\n} \r\n\r\nconst errorHandler = () => {\r\n    subscribers['status-changed'].forEach(s => s('error'))\r\n}\r\nconst CleanUp = () => {\r\n    newWS?.removeEventListener('close', closeHandler)\r\n    newWS?.removeEventListener('message', messageHandler)\r\n    newWS?.removeEventListener('open', openHandler)\r\n    newWS?.removeEventListener('error', errorHandler)\r\n}\r\n\r\nexport function createChannel() {\r\n\r\n    CleanUp()\r\n    newWS?.close()\r\n\r\n    newWS = new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\")\r\n    subscribers['status-changed'].forEach(s => s('pending'))\r\n    newWS.addEventListener('close', closeHandler)\r\n    newWS.addEventListener('message', messageHandler)\r\n    newWS.addEventListener('open', openHandler)\r\n    newWS.addEventListener('error', errorHandler)\r\n}\r\n\r\nexport const chatAPI = {\r\n    start(){\r\n        createChannel()\r\n    },\r\n    stop(){\r\n        subscribers['message-received'] = []\r\n        subscribers['status-changed'] =[]\r\n        CleanUp()\r\n        newWS?.close()\r\n        \r\n    },\r\n    subscribe(eventName: EventType, callback: MessageReceivedSubscriberType | StatusChangedSubscriberType | null){\r\n        //@ts-ignore\r\n        subscribers[eventName].push(callback)//wtf???\r\n        return () =>{\r\n            //@ts-ignore\r\n            subscribers[eventName] = subscribers[eventName].filter(s => s!== callback)\r\n        }\r\n    },\r\n    unsubscribe(eventName: EventType,callback: MessageReceivedSubscriberType | StatusChangedSubscriberType | null){\r\n        //@ts-ignore\r\n        subscribers[eventName] = subscribers[eventName].filter(s => s!== callback)\r\n    },\r\n    sendMessage(message:string) {\r\n        newWS?.send(message)\r\n    }\r\n\r\n\r\n}\r\nexport type MessageType = {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n}\r\ntype MessageReceivedSubscriberType = (messages: MessageType[]) => void\r\ntype StatusChangedSubscriberType = (status: StatusType) => void\r\n\r\nlet subscribers = {\r\n   'message-received': [] as Array<MessageReceivedSubscriberType>,\r\n    'status-changed' : [] as Array<StatusChangedSubscriberType>\r\n\r\n}","import { stopSubmit } from \"redux-form\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { AppStateType, InferActionsTypes } from \"./redux-store\";\r\nimport { chatAPI, MessageType, StatusType } from \"../API/chat-api\";\r\nimport { Dispatch } from \"redux\";\r\nimport { v1} from 'uuid';\r\n\r\nlet initialState = {\r\n    messages: [] as MessageType[],\r\n    status: 'ready' as StatusType\r\n};\r\n\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n\r\nconst chatReducer = (state = initialState, action: ActionsType): initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case \"/chat/MESSAGES_RECEIVED\":\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, ...action.payload.messages.map(m => ({...m, id: v1() } ))].filter((m, index, array)=> index >=(array.length - 100))\r\n            }\r\n        case \"/chat/STATUS_CHANGED\":\r\n            return {\r\n                ...state,\r\n                status: action.payload.status\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//ACs\r\nexport const actions = {\r\n    messagesReceived: (messages: MessageType[]) => \r\n    ({ type: '/chat/MESSAGES_RECEIVED', payload: { messages } } as const),\r\n    statusChanged: (status: StatusType) => \r\n    ({ type: '/chat/STATUS_CHANGED', payload: { status } } as const)\r\n}\r\n\r\n\r\n//thunks\r\n\r\n\r\ntype ThunksType = ThunkAction<Promise<void>, AppStateType, unknown, ActionsType | ReturnType<typeof stopSubmit>>\r\n\r\nlet _newMessageHandler: ((messages: MessageType[]) => void) | null = null\r\n\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_newMessageHandler !== null) {\r\n        return _newMessageHandler\r\n    }\r\n    _newMessageHandler = (messages: MessageType[]) => {\r\n        dispatch(actions.messagesReceived(messages))\r\n    }\r\n    return _newMessageHandler\r\n}\r\n\r\nlet _statusChangedHandler: ((status: StatusType) => void) | null = null\r\n\r\nconst statusChangedHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_statusChangedHandler !== null) {\r\n        return _statusChangedHandler\r\n    }\r\n    _statusChangedHandler = (status: StatusType) => {\r\n        dispatch(actions.statusChanged(status))\r\n    }\r\n    return _statusChangedHandler\r\n}\r\n\r\n\r\n\r\nexport const startMessagesListening = (): ThunksType => async (dispatch) => {\r\n    chatAPI.start();\r\n    chatAPI.subscribe('message-received', newMessageHandlerCreator(dispatch))\r\n    chatAPI.subscribe('status-changed',statusChangedHandlerCreator(dispatch) )\r\n}\r\nexport const stopMessagesListening = (): ThunksType => async (dispatch) => {\r\n    chatAPI.unsubscribe('message-received',newMessageHandlerCreator(dispatch))\r\n    chatAPI.unsubscribe('status-changed',statusChangedHandlerCreator(dispatch))\r\n    chatAPI.stop()\r\n}\r\nexport const sendMessage = (message: string): ThunksType => async () => {\r\n    chatAPI.sendMessage(message)\r\n}\r\n\r\nexport default chatReducer;","import {\r\n    combineReducers, createStore,\r\n    applyMiddleware, compose\r\n} from \"redux\"\r\nimport profileReducer from \"./profile-reducer\"\r\nimport dialogsReducer from \"./dialogs-reducer\"\r\nimport sidebarReducer from \"./sidebar-reducer\"\r\nimport usersReducer from \"./users-reducer\"\r\nimport authReducer from \"./auth-reduser\"\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReduser from \"./app-reduser\"\r\nimport chatReducer from \"./chat-reduser\"\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReduser,\r\n    chatPage: chatReducer\r\n});\r\n\r\ntype RootReducerType = typeof reducers\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\ntype PropertiesTypes<T> = T extends {[key: string]: infer U} ? U : never\r\n\r\nexport type InferActionsTypes<T extends {[key: string]: (...args: any) => any}> = ReturnType<PropertiesTypes<T>> \r\n\r\n//@ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose // this is browser extention for store managment\r\n\r\n\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n//@ts-ignore\r\nwindow.store = store\r\n\r\nexport default store","export default __webpack_public_path__ + \"static/media/preloader.0c178750.svg\";","import React from 'react'\r\nimport preloader from 'D:\\\\Git Rep\\\\React-application\\\\src\\\\img\\\\preloader.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nconst Preloader: React.FC = () => {\r\n    return (\r\n        <div className={s.preloaderIMG}><img src={preloader}></img> </div>\r\n    )\r\n}\r\nexport default Preloader","import React from \"react\"\r\nimport { Field, WrappedFieldMetaProps, WrappedFieldProps } from \"redux-form\"\r\nimport { FieldValidatorType } from \"../../../Utilits/Validators/validators\"\r\nimport s from \"./FormControls.module.css\"\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\n\r\nexport const FormControl: React.FC<FormControlPropsType>  = ({ meta :{touched, error}, children }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                {children} \r\n            </div>\r\n            {hasError ? <span>{error}</span> : \"\"}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const TextArea: React.FC<WrappedFieldProps> = (props) => {\r\n   // const { child, input, meta, ...restProps } = props\r\n   const { input, meta, ...restProps } = props\r\n    return (\r\n        <FormControl {...props}><textarea className={s.text} {...input} {...restProps} /></FormControl>\r\n    )\r\n}\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    //const { child, input, meta, ...restProps } = props\r\n    const { input, meta, ...restProps } = props\r\n    return (\r\n        <FormControl {...props}><input className={s.text} {...input} {...restProps} /></FormControl>\r\n    )\r\n}\r\n\r\nexport function  CreateField<T extends string>(placeholder: string | undefined, //\"T extends string\" we can show our generic restriction on type of generic\r\n    name: T, validators: Array<FieldValidatorType>, \r\n    component: React.FC<WrappedFieldProps> | string, type = \"\") {\r\n        return <div> \r\n            <Field  \r\n         placeholder={placeholder} \r\n         validate={validators} \r\n         name={name} \r\n         component={component}\r\n         type={type}/>\r\n         </div>\r\n} ","import React from 'react'\r\nimport s from './ProfileInfo.module.css';\r\nimport { CreateField, Input, TextArea } from '../../common/FormControls/FormControls';\r\nimport { InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { ProfileType } from '../../../types/types';\r\ntype PropsType ={\r\n    profile: ProfileType\r\n}\r\ntype ProfileTypeKeys = Extract< keyof ProfileType, string>\r\nconst ProfileDataForm: React.FC<InjectedFormProps< ProfileType,PropsType>&PropsType> = ({ handleSubmit, profile, error }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>Full Name: {CreateField(\"Full name\", \"fullName\", [], Input)}</div>\r\n            <div>Looking for a job: <span className={s.lookingForAJob}>{CreateField<ProfileTypeKeys>(\"\", \"lookingForAJob\", [], Input, \"checkbox\")}</span></div>\r\n            <div>Looking for a job description: <span>{CreateField<ProfileTypeKeys>(\"Description\", \"lookingForAJobDescription\", [], TextArea)}</span></div>\r\n            <div>About me: <span>{CreateField<ProfileTypeKeys>(\"About me\", \"aboutMe\", [], TextArea)}</span></div>\r\n            <div>\r\n                <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n                    return <div key={key} className={s.contact}>\r\n                        {key}:  {CreateField(key, \"contacts.\" + key, [], Input)}\r\n                    </div>\r\n                })}\r\n            </div>\r\n            { error && <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <button>Save</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ReduxProfileDataForm = reduxForm<ProfileType, PropsType>({ form: 'edit-profile' })(ProfileDataForm)\r\nexport default ReduxProfileDataForm","import React, {useState, useEffect, ChangeEvent} from 'react'\r\ntype PropsType ={\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\nconst ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\r\n    \r\n    let [editMode,setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode =() =>{\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEditMode =() =>{\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) =>{\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n    \r\n\r\n    return (\r\n        <div>\r\n            {\r\n                editMode\r\n                    ? <div>\r\n                        <input  autoFocus={true}\r\n                        onBlur ={deactivateEditMode}\r\n                          onChange={onStatusChange} \r\n                          value={status}>\r\n                        </input>\r\n                    </div>\r\n                    : <div>\r\n                        <span onDoubleClick={activateEditMode}>\r\n                            <b>Status:</b> {props.status || \"No status\"} \r\n                        </span>\r\n                    </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileStatusWithHooks;","export default __webpack_public_path__ + \"static/media/UserPhoto.fbfe03c2.png\";","import React, { ChangeEvent, useState } from 'react';\r\nimport { ProfileType, ContactsType } from '../../../types/types';\r\nimport Preloader from '../../Preloader/Preloader';\r\nimport ProfileDataForm from './ProfileDataForm';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport userPhoto from 'D:\\\\Git Rep\\\\React-application\\\\src\\\\img\\\\UserPhoto.png';\r\n\r\ntype PropsType ={\r\n    profile: ProfileType | null\r\n    status: string\r\n    isOwner: boolean\r\n    updateStatus: (status: string) => void\r\n    saveProfile: (profile:ProfileType) => Promise<any>\r\n    savePhoto: (file: File) => void\r\n}\r\n\r\nconst ProfileInfo: React.FC<PropsType> = (props) => {\r\n    const onAvatarSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if(e.target.files?.length){\r\n            let file = e.target.files[0]\r\n            props.savePhoto(file);\r\n        }  \r\n    }\r\n    const onSubmit =  (formData: ProfileType) => {\r\n        props.saveProfile(formData).then(()=>{\r\n            setEditMode(false);\r\n        })\r\n    }\r\n    let [editMode, setEditMode] = useState(false);\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n    else {\r\n        return (\r\n            <div>\r\n                <div className={s.descriptionBlock}>\r\n                    <img className={s.avatar} src={props.profile.photos.large || userPhoto} ></img>\r\n\r\n                    <div>{props.isOwner\r\n                        ? <input type=\"file\" onChange={onAvatarSelected} />\r\n                        : \"\"}</div>\r\n\r\n                    <div className={s.status}><ProfileStatusWithHooks status={props.status}\r\n                        updateStatus={props.updateStatus} /></div>\r\n                    {editMode ? <ProfileDataForm profile={props.profile} initialValues={props.profile} onSubmit={onSubmit}/> : \r\n                    <ProfileData\r\n                        activateEditMode={() => { setEditMode(true) }}\r\n                        profile={props.profile}\r\n                        isOwner={props.isOwner} />}\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\ntype ProfileDataPropsType ={\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    activateEditMode: ()=> void\r\n}\r\n\r\nconst ProfileData: React.FC<ProfileDataPropsType> = ({ profile, isOwner, activateEditMode }) => {\r\n    return <div>\r\n        <p className={s.profileName}>{profile.fullName}</p>\r\n        <p><b>Looking for a job:</b> {profile.lookingForAJob ? \"yes\" : \"no\"}</p>\r\n        <p>{profile.lookingForAJobDescription}</p>\r\n        <p><b>About me:</b> {profile.aboutMe}</p>\r\n        {<div> \r\n            <b>Contacts:</b> {Object.keys(profile.contacts)\r\n                .map(key  => {\r\n                    return <Contact key={key} Title={key} Value={profile.contacts[key as keyof ContactsType]} />\r\n                })}\r\n        </div>}\r\n        {isOwner ? <div className={s.editBTN}>\r\n            <button onClick={activateEditMode}>Edit</button>\r\n        </div> : null}\r\n    </div>\r\n}\r\ntype ContactPropsType ={\r\n    Title: string\r\n    Value: string\r\n}\r\nexport const Contact: React.FC<ContactPropsType> = ({ Title, Value }) => {\r\n    return <div className={s.contact}><b>{Title}:</b>{Value}</div>\r\n}\r\n\r\nexport default ProfileInfo;","export default __webpack_public_path__ + \"static/media/36b78c8b7cd957e082f53148b74787ea.e911d43c.jpg\";","import React from 'react';\r\nimport s from './Post.module.css';\r\nimport userPhoto from 'D:\\\\Git Rep\\\\React-application\\\\src\\\\img\\\\36b78c8b7cd957e082f53148b74787ea.jpg';\r\ntype PropsType={\r\n  likesCount: number\r\n  message: string\r\n}\r\nconst Post: React.FC<PropsType> = (props) => {\r\n  const [likes, setLike] = React.useState(props.likesCount);\r\n  const putLike = () => {\r\n    if (likes == props.likesCount ) {\r\n      setLike(likes + 1);\r\n    }\r\n    else if(likes > props.likesCount)\r\n    {\r\n      setLike(likes - 1);\r\n    }\r\n  }\r\n  return (\r\n    <div className={s.item}>\r\n      <img className={s.profilePH} src={userPhoto} />\r\n      <span className={s.postText}>{props.message}</span>\r\n      <div>\r\n        <span onClick={putLike}><img className={s.like} src={\"https://i.pinimg.com/originals/39/44/6c/39446caa52f53369b92bc97253d2b2f1.png\"}></img></span>\r\n         <span className={s.likesCount}>{likes}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;"," export type FieldValidatorType = (value: string) => string | undefined\r\n \r\n \r\n export const required: FieldValidatorType = (value) =>{\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType=> (value) =>{\r\n    if ( value.length > maxLength) {\r\n        return `Max ${maxLength} symbols`\r\n    }\r\n    return undefined\r\n  }\r\n\r\nexport default required;","import React from 'react';\r\nimport { InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { TextArea } from '../../common/FormControls/FormControls';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { maxLengthCreator } from \"D:\\\\Git Rep\\\\React-application\\\\src\\\\Utilits\\\\Validators\\\\validators\"\r\nimport { CreateField} from '../../common/FormControls/FormControls'\r\nimport { PostType } from '../../../types/types';\r\n\r\nconst maxLenght = maxLengthCreator(1000);\r\n\r\nexport type MapMyPostsPropsType ={\r\n    \r\n    posts: Array<PostType>\r\n}\r\n\r\nexport type DispatchPropsType ={\r\n    addPost: (newPostBody:string) => void\r\n}\r\ntype AddPostFormValuesType={\r\n    newPostBody: string\r\n}\r\n\r\nconst MyPosts: React.FC<MapMyPostsPropsType & DispatchPropsType> = React.memo((props) => {\r\n    let postsElements =\r\n        [...props.posts].reverse().map(p => <Post key={p.message} message={p.message} likesCount={p.likesCount} />);\r\n\r\n\r\n    let addNewPost = (values: AddPostFormValuesType) => {\r\n        props.addPost(values.newPostBody);\r\n        values.newPostBody = \"\"\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <div>\r\n                <p>Write down the post:</p>\r\n                <ReduxAddNewPostForm onSubmit={addNewPost} />\r\n            </div>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\ntype AddNewPostFormPropsType ={}\r\ntype PostFormPropertiesType = Extract< keyof PostFormType, string>\r\ntype PostFormType ={\r\n    newPostBody: string\r\n}\r\nconst AddNewPostForm: React.FC<InjectedFormProps<PostFormType, AddNewPostFormPropsType> & AddNewPostFormPropsType> = (props) => {\r\n    return (<form onSubmit={props.handleSubmit}>\r\n        <div className={s.addPostArea}>\r\n            {CreateField<PostFormPropertiesType>(\"New Post\", \"newPostBody\", [], TextArea)}\r\n        </div>\r\n        <button className={s.addPostBTN}>Add post</button>\r\n    </form>\r\n    )\r\n}\r\n\r\nconst ReduxAddNewPostForm = reduxForm<PostFormType, AddNewPostFormPropsType>({ form: \"addPost\" })(AddNewPostForm)\r\n\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { actions } from \"../../../redux/profile-reducer\";\r\nimport MyPosts, { DispatchPropsType } from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\nimport { AppStateType } from '../../../redux/redux-store';\r\nimport {MapMyPostsPropsType} from '../MyPosts/MyPosts'\r\n\r\nconst mapStateToProps = (state : AppStateType) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nconst MyPostsContainer = connect<MapMyPostsPropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps, {addPost: actions.addPostActionCreator} )(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { ProfileType } from '../../types/types';\r\ntype PropsType ={\r\n    profile: ProfileType | null\r\n    status: string\r\n    isOwner: boolean\r\n    updateStatus: (status: string) => void\r\n    saveProfile: (profile:ProfileType) => Promise<any>\r\n    savePhoto: (file: File) => void\r\n}\r\nconst Profile: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo\r\n            isOwner ={props.isOwner}\r\n            profile={props.profile} \r\n            status={props.status}\r\n            updateStatus={props.updateStatus}\r\n            savePhoto = {props.savePhoto} \r\n            saveProfile ={props.saveProfile}/>\r\n\r\n            \r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from \"react-redux\";\r\nimport { AppStateType } from '../redux/redux-store';\r\n\r\nlet mapStateToPropsForRedirect = (state: AppStateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToPropsForRedirect>\r\ntype DispatchPropsType ={\r\n\r\n}\r\n\r\nexport function withAuthRedirect<WCP>(Component: React.ComponentType<WCP>) {\r\n\r\n    const AuthRedirect:React.FC<MapPropsType & DispatchPropsType> = (props) => {\r\n        let {isAuth, ...restProps} = props\r\n        if (!props.isAuth) return <Redirect to={\"/login\"} />;\r\n        return (\r\n            <Component {...restProps as WCP } />\r\n        )\r\n    }\r\n    let ConnectedAuthRegirectComponent = connect<MapPropsType, DispatchPropsType,WCP, AppStateType>(mapStateToPropsForRedirect)(AuthRedirect)\r\n\r\n    return ConnectedAuthRegirectComponent;\r\n}\r\n","import React, { Component } from 'react'\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { saveProfile, getUserProfile, getStatus, updateStatus, savePhoto } from \"../../redux/profile-reducer\";\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { AppStateType } from '../../redux/redux-store';\r\nimport { ProfileType } from '../../types/types';\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\ntype DispatchPropsType = {\r\n    saveProfile:(profile: ProfileType) => Promise<any>\r\n    getUserProfile:(id: number | null) => void\r\n    getStatus:(id: number | null) => void\r\n    updateStatus:(status: string) => void\r\n    savePhoto:(file: File) => void\r\n}\r\ntype PathParamsType ={\r\n    userID: string\r\n}\r\ntype WithRouterProps = RouteComponentProps<PathParamsType>\r\n\r\nclass ProfileContainer extends React.Component<MapPropsType & DispatchPropsType & WithRouterProps> {\r\n\r\n    setUserProfile = () => {\r\n        let userId: number | null = +this.props.match.params.userID\r\n        if (!userId) {\r\n            userId = this.props.loginedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId );\r\n        this.props.getStatus(userId );\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setUserProfile();\r\n\r\n    }\r\n    componentDidUpdate(prevProps :MapPropsType & DispatchPropsType & WithRouterProps) {\r\n        if (this.props.match.params.userID != prevProps.match.params.userID) {\r\n            this.setUserProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                isOwner={!this.props.match.params.userID}\r\n                profile={this.props.profile}\r\n                status={this.props.status}\r\n                updateStatus={this.props.updateStatus}\r\n                savePhoto={this.props.savePhoto} \r\n                saveProfile ={this.props.saveProfile}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        loginedUserId: state.auth.userID,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, { saveProfile, getUserProfile, getStatus, updateStatus, savePhoto }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n","import React from 'react'\r\nimport s from './Login.module.css'\r\nimport { InjectedFormProps, reduxForm } from 'redux-form'\r\nimport { CreateField, Input } from '../common/FormControls/FormControls'\r\nimport required, { maxLengthCreator } from '../../Utilits/Validators/validators'\r\nimport { connect, useDispatch, useSelector } from 'react-redux'\r\nimport { logIn } from '../../redux/auth-reduser'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { AppStateType } from '../../redux/redux-store'\r\nimport { Col, Row } from 'antd'\r\n\r\ntype LoginFormOwnProps = {\r\n    captchaURL: string | null\r\n}\r\n\r\n\r\nexport const Login: React.FC = () => {\r\n    const captchaURL = useSelector ((state: AppStateType) => state.auth.captchaURL)\r\n    const isAuth = useSelector((state: AppStateType) => state.auth.isAuth)\r\n    \r\n    const dispatch = useDispatch()\r\n\r\n    const onSubmit = (formData: LoginFormType) => {\r\n        dispatch(logIn(formData.email, formData.password, formData.rememberMe, formData.captcha));\r\n    }\r\n    if (isAuth) {\r\n        return <Redirect to=\"/profile\" />\r\n    }\r\n    return (\r\n        <div>\r\n            <Row style ={{marginTop: \"30px\"}}>\r\n                <Col span ={7}><div></div></Col>\r\n                <Col span ={10}><h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}\r\n                captchaURL={captchaURL} /></Col>\r\n            <Col span ={7}><div></div></Col>\r\n                </Row>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormType, LoginFormOwnProps> & LoginFormOwnProps> = ({ handleSubmit, error, captchaURL }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                {CreateField<LoginFormPropertiesType>(\"Email\", \"email\", [required], Input)}\r\n            </div>\r\n            <div>\r\n                {CreateField<LoginFormPropertiesType>(\"Password\", \"password\", [required], Input, \"password\")}\r\n            </div>\r\n            <div>\r\n            {CreateField<LoginFormPropertiesType>(undefined, \"rememberMe\", [], \"input\", \"checkbox\")}<span>  Remember me</span>\r\n            </div>\r\n            {captchaURL && <img className={s.captcha} src={captchaURL}></img>}\r\n            \r\n            {captchaURL &&  CreateField<LoginFormPropertiesType>(undefined, \"captcha\", [required], Input)}\r\n            { error && <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button className={s.loginBTN}>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\ntype LoginFormPropertiesType = Extract< keyof LoginFormType, string> // type includes key of LoginFormType, to limim posible names of fields\r\n\r\nexport type LoginFormType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n}\r\n\r\n\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormType, LoginFormOwnProps>({\r\n    form: 'Login'\r\n})(LoginForm)\r\n","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType ={\r\n    id: number\r\n    name: string\r\n}\r\nconst DialogItem: React.FC<PropsType> = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n    return <div >\r\n        <NavLink activeClassName={s.activeDialog} className={s.person} to={path}>{props.name}</NavLink>\r\n    </div>\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\ntype PropsType ={\r\n    message: string\r\n}\r\nconst Message: React.FC<PropsType> = (props) => {\r\n    return <div className={s.dialog}>{props.message}</div>\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { CreateField, Input, TextArea } from '../common/FormControls/FormControls';\r\nimport {required, maxLengthCreator } from '../../Utilits/Validators/validators';\r\nimport { initialStateType } from '../../redux/dialogs-reducer';\r\n\r\ntype PropsType ={\r\n    dialogsPage: initialStateType\r\n    sendMessage: (message: string) => void\r\n}\r\n\r\n\r\nconst Dialogs: React.FC<PropsType> = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogs.map(d => <DialogItem name={d.name} key={d.id} id={d.id} />);\r\n    let messagesElements = state.messages.map(m => <Message message={m.message} key={m.id} />);\r\n\r\n    let addNewMessageChange = (values : NewMessageBodyFormType) => {\r\n        props.sendMessage(values.newMessageBody);\r\n        values.newMessageBody =\"\";\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messagesElements}</div>\r\n                <ReduxAddMessageForm onSubmit={addNewMessageChange} />\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\nconst maxLenght = maxLengthCreator(1000);\r\n\r\nconst AddMessageForm: React.FC<InjectedFormProps<NewMessageBodyFormType>>= (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.handleSubmit} className={s.textButtonArea}>\r\n                {CreateField<NewMessageBodyPropertiesType>(\"Message\", \"newMessageBody\", [ ], Input)}\r\n                <div><button>Send</button></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype NewMessageBodyPropertiesType = Extract< keyof NewMessageBodyFormType, string> // type includes key of LoginFormType, to limim posible names of fields\r\n\r\nexport type NewMessageBodyFormType = {\r\n    newMessageBody: string\r\n}\r\n\r\nconst ReduxAddMessageForm = reduxForm<NewMessageBodyFormType>({form: \"sendMessage\"})(AddMessageForm)\r\n\r\nexport default Dialogs;","import { sendMessageCreator } from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { connect } from \"react-redux\";\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { compose } from \"redux\";\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {sendMessage: sendMessageCreator}),\r\n    withAuthRedirect\r\n)(Dialogs);","import React from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\nimport { UserType } from '../../types/types';\r\nimport s from './Users.module.css'\r\nimport userPhoto from 'D:\\\\Git Rep\\\\React-application\\\\src\\\\img\\\\UserPhoto.png'\r\n\r\ntype PropsType ={\r\n    user: UserType\r\n    isFollowingInProgress: Array<number>\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n}\r\nconst User: React.FC<PropsType> = ({ user, isFollowingInProgress,unfollow, follow }) => {\r\n    return (\r\n        <div>\r\n            <div className={s.users}>\r\n                <div>\r\n                    <div>\r\n                        <NavLink to={\"/profile/\" + user.id}>\r\n                            <img className={s.avatar} src={user.photos.small != null ? user.photos.small : userPhoto}></img>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>{user.followed\r\n                        ? <button disabled={isFollowingInProgress\r\n                            .some(id => id === user.id)} className={s.followBTN} onClick={() => {\r\n                                unfollow(user.id);\r\n                            }} >Unfollow</button>\r\n                        : <button disabled={isFollowingInProgress\r\n                            .some(id => id === user.id)} className={s.followBTN} onClick={() => {\r\n                                follow(user.id);\r\n                            }}>Follow</button>}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={s.userInfo}>\r\n                    <span className={s.aboutUser}>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n\r\n                    <span className={s.location}>\r\n                        <div>country</div>\r\n                        <div>city</div>\r\n                    </span>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default User","import {createSelector} from \"reselect\";\r\nimport { AppStateType } from \"./redux-store\";\r\n\r\nconst GetUsersSelector = (state: AppStateType)=>{\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const GetUsers= createSelector( GetUsersSelector, (users) =>{\r\n    return users.filter(u => true);\r\n})\r\nexport const GetIsAuth= (state: AppStateType) =>{\r\n    return state.auth.isAuth;\r\n}\r\nexport const GetLogin= (state: AppStateType) =>{\r\n    return state.auth.login;\r\n}\r\n\r\nexport const GetPageSize = (state: AppStateType)=>{\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const GetTotalUsersCount = (state: AppStateType)=>{\r\n    return  state.usersPage.totalUsersCount;\r\n}\r\nexport const GetCurrentPage = (state: AppStateType)=>{\r\n    return  state.usersPage.currentPage;\r\n}\r\nexport const GetIsFetching = (state: AppStateType)=>{\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const GetIsFollowingInProgress = (state: AppStateType)=>{\r\n    return state.usersPage.isFollowingInProgress;\r\n}\r\nexport const  GetUsersFilter = (state: AppStateType) =>{\r\n    return state.usersPage.filter;\r\n}\r\n","import { FilterType } from '../../redux/users-reducer'\r\nimport { ErrorMessage, FieldArray, Form, Formik, Field } from 'formik'\r\nimport React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { GetUsersFilter } from '../../redux/users-selectors'\r\n\r\nconst UserSearchValidate = (values: any) => {\r\n\r\n    const errors = {};\r\n\r\n    return errors;\r\n\r\n}\r\ntype FormType ={\r\n    term: string\r\n    friend: \"true\" | \"false\" | \"null\"\r\n}\r\ntype UsersSearchFormPropsType ={\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\nconst UsersSearchForm:React.FC<UsersSearchFormPropsType> = React.memo((props) => {\r\n    const filter = useSelector(GetUsersFilter)\r\n\r\n    const submit = (values: FormType, { setSubmitting }\r\n        : { setSubmitting: (isSubmiting: boolean) => void }) => {\r\n            const filter: FilterType = {term: values.term,\r\n            \r\n            friend: values.friend === \"null\" ? null : values.friend === \"true\" ? true : false}\r\n            props.onFilterChanged(filter);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Formik\r\n                enableReinitialize ={true}\r\n                initialValues={{ term: filter.term, friend: String(filter.friend) as \"true\" | \"false\" | \"null\" }}\r\n                validate={UserSearchValidate}\r\n                onSubmit={submit}\r\n            >\r\n                {() => (\r\n                    <Form>\r\n                        <Field type=\"text\" name=\"term\" />\r\n                        <Field name = \"friend\" as =\"select\">\r\n                            <option value=\"null\" >All</option>\r\n                            <option value=\"true\" >Only folowed</option>\r\n                            <option value=\"false\" >Only unfolowed</option>\r\n                        </Field>\r\n                        <button type=\"submit\">\r\n                            Search\r\n           </button>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div >\r\n    )\r\n})\r\n\r\nexport default UsersSearchForm","import React, { useEffect } from 'react'\r\nimport User from './User'\r\nimport { Pagination } from 'antd'\r\nimport { FilterType } from '../../redux/users-reducer'\r\nimport UsersSearchForm from './UserSearchForm'\r\nimport { GetCurrentPage, GetIsFetching, GetIsFollowingInProgress, GetPageSize, GetTotalUsersCount, GetUsers, GetUsersFilter } from '../../redux/users-selectors'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getUsers, follow, unfollow } from '../../redux/users-reducer'\r\nimport Preloader from '../Preloader/Preloader'\r\nimport { useHistory } from 'react-router-dom'\r\nimport * as queryString from 'querystring'\r\ntype PropsType = {\r\n}\r\n\r\nconst Users: React.FC<PropsType> = React.memo(() => {\r\n\r\n\r\n    const totalUsersCount = useSelector(GetTotalUsersCount)\r\n    const currentPage = useSelector(GetCurrentPage)\r\n    const pageSize = useSelector(GetPageSize)\r\n    const filter = useSelector(GetUsersFilter) \r\n    const users = useSelector(GetUsers)\r\n    const isFollowingInProgress = useSelector(GetIsFollowingInProgress)\r\n    const isFetching= useSelector(GetIsFetching)\r\n\r\n\r\n    const history = useHistory();\r\n\r\n    const dispatch = useDispatch();\r\n    type QueryParamsType = {term?: string; page?: string; friend?: string}\r\n   \r\n    useEffect(() => {\r\n        \r\n        const parsed = queryString.parse(history.location.search.substr(1)) as QueryParamsType\r\n\r\n        let actualPage = currentPage\r\n        let actualFilter = filter \r\n\r\n        if (!!parsed.page) actualPage = +parsed.page\r\n        if (!!parsed.term) actualFilter = {...actualFilter, term: parsed.term as string}\r\n        if (!!parsed.friend) actualFilter = {...actualFilter, friend: parsed.friend ===\"null\" ? null : parsed.friend === \"true\" ? true  : false}\r\n        dispatch(getUsers(actualPage, pageSize, actualFilter))\r\n    },[])\r\n\r\n\r\n    useEffect(() => {\r\n        const query: QueryParamsType = {} \r\n        if(!!filter.term) query.term = filter.term\r\n        if(!!filter.friend !== null) query.friend = String(filter.friend)\r\n        if(currentPage !== 1) query.page = String(currentPage)\r\n\r\n        history.push(\r\n            {\r\n                pathname: '/users',\r\n                search: queryString.stringify(query)\r\n            }\r\n        )\r\n    },[filter, currentPage])\r\n\r\n    const onPageClick = (pageNumber: number) =>{\r\n        dispatch(getUsers(pageNumber, pageSize, filter))\r\n    }\r\n\r\n    const onFilterChanged = (filter: FilterType)=>{\r\n        dispatch(getUsers(1, pageSize, filter))\r\n    }\r\n\r\n    const Follow= (userId: number) => {\r\n        dispatch(follow(userId))\r\n    }\r\n    const Unfollow =  (userId: number) => {\r\n        dispatch(unfollow(userId))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            { <Pagination style={{ margin: '20px' }} showSizeChanger={false} pageSize={pageSize} current={currentPage}\r\n                responsive={true} size=\"default\"\r\n                onChange={onPageClick} total={totalUsersCount} />}\r\n\r\n            <UsersSearchForm onFilterChanged= {onFilterChanged}/>\r\n            { isFetching ? <Preloader/> :\r\n                users.map(u => <User user={u}\r\n                    isFollowingInProgress={isFollowingInProgress}\r\n                    follow={Follow}\r\n                    unfollow={Unfollow}\r\n                    key={u.id} />)\r\n            }\r\n        </div >\r\n    )\r\n})\r\n\r\n\r\n\r\n\r\nexport default Users","import { useDispatch, useSelector } from 'react-redux'\r\nimport Users from './Users'\r\nimport React, { useEffect }  from 'react'\r\nimport Preloader from '../Preloader/Preloader'\r\nimport { GetCurrentPage, GetIsFetching, GetPageSize, GetTotalUsersCount, GetUsersFilter} from '../../redux/users-selectors'\r\nimport { getUsers} from '../../redux/users-reducer'\r\n\r\ntype UserPagePropsType = {\r\n\r\n    \r\n}\r\n\r\nexport const UsersPage: React.FC<UserPagePropsType> = (props) =>{\r\n    const isFetching= useSelector(GetIsFetching)  \r\n\r\n    return (<> \r\n        { \r\n            <Users/>}\r\n\r\n    </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Button, Radio } from 'antd';\r\nimport { Header } from 'antd/lib/layout/layout';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { GetIsAuth, GetLogin } from '../../redux/users-selectors';\r\nimport { logout } from '../../redux/auth-reduser';\r\n\r\n\r\n\r\nconst AppHeader: React.FC = (props) => {\r\n    const isAuth = useSelector(GetIsAuth)\r\n    const login = useSelector(GetLogin)\r\n    const dispatch = useDispatch()\r\n\r\n    const logoutCB =() =>{\r\n        dispatch(logout())\r\n    }\r\n    return <Header className=\"site-layout-background\" style={{ padding: 0 }}>\r\n                  \r\n                    \r\n        <NavLink to=\"/profile\" activeClassName={s.activeLink}>\r\n            \r\n        </NavLink>\r\n        <span className={s.title}>FakeTelegram</span>\r\n        <div className={s.loginBlock}>  {isAuth \r\n        ? \r\n        <div> <NavLink to=\"/login\"><span>{login}</span></NavLink>  <NavLink to=\"/login\">\r\n            <Button onClick={logoutCB} danger ={true} type=\"primary\">Log Out</Button>\r\n            </NavLink></div>  \r\n        : \r\n        <span className={s.login}>Log In</span>}</div>\r\n\r\n    </Header>\r\n    \r\n}\r\n\r\nexport default AppHeader;","import { Button } from 'antd'\r\nimport React, { useEffect, useState, useRef } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {MessageType} from '../../API/chat-api'\r\nimport Preloader from '../../components/Preloader/Preloader'\r\nimport { sendMessage, startMessagesListening, stopMessagesListening } from '../../redux/chat-reduser'\r\nimport { AppStateType } from '../../redux/redux-store'\r\n\r\nexport const ChatPage: React.FC = () => {\r\n    return (\r\n        <div>\r\n            <Chat />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Chat: React.FC = () => {\r\n    \r\n    const dispatch = useDispatch()\r\n    const status = useSelector((state: AppStateType) => state.chatPage.status) \r\n    useEffect(() => {\r\n        dispatch(startMessagesListening())\r\n        return () =>\r\n        {dispatch(stopMessagesListening())}\r\n    }, [])\r\n    \r\n\r\n\r\n    return (\r\n        <div>\r\n            {status == 'error' && <div> Error </div>}\r\n            <>\r\n            <Messages  />\r\n            <AddMessageForm  />\r\n            </>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst Messages: React.FC = React.memo( () => {\r\n    const messages = useSelector((state:AppStateType) => state.chatPage.messages)\r\n    const messagesRef = useRef<HTMLDivElement>(null)\r\n    const [isAutoScrollActive, setAS] = useState(false)\r\n    const scrollHandler = (e: React.UIEvent<HTMLDivElement, UIEvent>) =>{\r\n        let element = e.currentTarget\r\n        if (Math.abs((element.scrollHeight - element.scrollTop) - element.clientHeight)<100) {\r\n            setAS(true)\r\n        }else{\r\n            setAS(false)\r\n        }\r\n\r\n    }\r\n    useEffect(() => {\r\n        if (isAutoScrollActive) {\r\n            messagesRef.current?.scrollIntoView({behavior: 'smooth'})\r\n        }\r\n    }, [messages])\r\n\r\n    return (\r\n        <div style={{ height: \"500px\", overflow: \"auto\", marginTop: \"30px\", padding: \"20px\" }}\r\n        onScroll={scrollHandler}>\r\n            {messages.map((m: MessageType, index) => <Message key={index} message={m} />)}\r\n            <div ref={messagesRef}></div>\r\n        </div>\r\n    )\r\n})\r\n\r\nconst Message: React.FC<{ message: MessageType }> = React.memo(({ message }) => {\r\n    console.log(\"message\")\r\n    return (\r\n        <div style={{ border: \"2px double black\", background: \"#DDD\", margin: \"10px\" }}>\r\n            <div >\r\n                <img style={{ width: \"50px\", borderRadius: \"50%\" }} src={message.photo} />\r\n                <b style={{ marginLeft: \"10px\" }}>{message.userName}</b>\r\n            </div>\r\n            <div style={{ marginLeft: \"60px\" }} >\r\n                {message.message}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\nconst AddMessageForm: React.FC = () => {\r\n    const [message, setMessage] = useState('')\r\n    const status = useSelector((state: AppStateType) => state.chatPage.status)\r\n\r\n\r\n    const dispatch = useDispatch()\r\n     \r\n    const SendMessageHandler = () => {\r\n        if (!message) {\r\n            return\r\n        }\r\n        else {\r\n            dispatch(sendMessage(message))\r\n            setMessage('')\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <textarea style={{ width: \"300px\", marginLeft: \"30px\", resize: \"none\" }}\r\n                    onChange={(e) => setMessage(e.currentTarget.value)} value={message}></textarea>\r\n\r\n            </div>\r\n            <div>\r\n                <Button disabled={status != 'ready'} style={{ marginLeft: \"30px\" }}\r\n                    danger={true} onClick={SendMessageHandler}>Send</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { Card, Avatar } from 'antd';\r\nimport { EditOutlined, EllipsisOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport s from './Music.module.css';\r\n\r\nconst { Meta } = Card;\r\nexport const MyCard = () => {\r\n    return (\r\n        <div className={s.card}>\r\n            <Card\r\n                hoverable\r\n                style={{ width: 295 }}\r\n                cover={\r\n                    <img\r\n                        alt=\"example\"\r\n                        src=\"https://fiverr-res.cloudinary.com/images/q_auto,f_auto/gigs/75713876/original/9a67eb27f72dd0e4a664bbf6aee708e0bcca7bf4/music-album-cover-designs.jpg\"\r\n                    />\r\n                }\r\n\r\n            >\r\n                <Meta\r\n                    avatar={<Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />}\r\n                    title=\"Card title\"\r\n                    description=\"This is the description\"\r\n                />\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Col, Row } from 'antd'\r\nimport { MyCard } from './Card'\r\nimport s from './Music.module.css';\r\n\r\n\r\nexport const MusicPage = () => {\r\n\r\n    return (\r\n        <div className={s.wrappedBlock}>\r\n            <MyCard />\r\n            <MyCard />\r\n            <MyCard />\r\n            <MyCard />\r\n            <MyCard />\r\n            <MyCard />\r\n            <MyCard />\r\n            <MyCard />\r\n            <MyCard />\r\n            <MyCard />\r\n            <MyCard />\r\n            <MyCard />\r\n        </div>\r\n    )\r\n}\r\n","import React, { Suspense } from 'react';\r\nimport './App.css';\r\nimport { NavLink, Redirect, Route, Switch, withRouter } from \"react-router-dom\";\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport { Login } from './components/Login/Login';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { initilizeApp } from './redux/app-reduser';\r\nimport Preloader from './components/Preloader/Preloader';\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport { AppStateType } from './redux/redux-store';\r\nimport { UsersPage } from './components/Users/UsersPage';\r\nimport { Layout, Menu } from 'antd';\r\nimport {\r\n    TeamOutlined,\r\n    UserOutlined,\r\n    MailOutlined,\r\n    WechatOutlined,\r\n    PlayCircleOutlined\r\n} from '@ant-design/icons';\r\nimport AppHeader from './components/Header/Header';\r\nimport { ChatPage } from './pages/Chat/ChatPage';\r\nimport { MusicPage } from './components/Music/MusicPage';\r\n\r\n//const ChatPage = React.lazy(() => import('./pages/Chat/ChatPage'));\r\n\r\nconst { Content, Footer, Sider } = Layout;\r\n\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\ntype DispatchPropsType = {\r\n    initilizeApp: () => void\r\n}\r\n\r\nclass App extends React.Component<MapPropsType & DispatchPropsType> {\r\n\r\n    state = {\r\n        collapsed: false,\r\n    };\r\n\r\n    onCollapse = (collapsed: boolean) => {\r\n        this.setState({ collapsed });\r\n    };\r\n\r\n    catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\r\n        alert(\"Some error\");\r\n    }\r\n    componentDidMount() {\r\n        this.props.initilizeApp();\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n    }\r\n\r\n    render() {\r\n        const { collapsed } = this.state;\r\n        if (!this.props.isInitialized) {\r\n            return <Preloader />\r\n        }\r\n        return (\r\n            <Layout style={{ minHeight: '100vh' }}>\r\n                <Sider collapsible collapsed={collapsed} onCollapse={this.onCollapse}>\r\n                    <div >< img className=\"logo\" src='https://www.vectorlogo.zone/logos/telegram/telegram-tile.svg'></img></div>\r\n                    <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n                        <Menu.Item key=\"1\" icon={<UserOutlined />}>\r\n                            <NavLink to=\"/profile\"> My Profile</NavLink>\r\n                        </Menu.Item>\r\n                        <Menu.Item key=\"2\" icon={<MailOutlined />}>\r\n                            <NavLink to=\"/dialogs\">Dialogs</NavLink>\r\n                        </Menu.Item>\r\n                        <Menu.Item key=\"3\" icon={<TeamOutlined />}>\r\n                            <NavLink to=\"/users\">Users</NavLink>\r\n                        </Menu.Item>\r\n                        <Menu.Item key=\"4\" icon={<WechatOutlined />}>\r\n                            <NavLink to=\"/chat\">Chat</NavLink>\r\n                        </Menu.Item>\r\n                        <Menu.Item key=\"5\" icon={<PlayCircleOutlined />}>\r\n                            <NavLink to=\"/music\">Music</NavLink>\r\n                        </Menu.Item>\r\n                    </Menu>\r\n                </Sider>\r\n                <Layout className=\"site-layout\">\r\n                    <AppHeader />\r\n                    <Content style={{ margin: '0 16px' }}>\r\n                        <Switch>\r\n                            <Redirect exact from=\"/\" to=\"/profile\" />\r\n                            <Route path='/dialogs'\r\n                                render={() => {\r\n                                    return <DialogsContainer />\r\n                                }} />\r\n\r\n                            <Route path='/profile/:userID?'\r\n                                render={() => <ProfileContainer />} />\r\n                            <Route path='/React-application'\r\n                                render={() => <ProfileContainer />} />\r\n\r\n                            <Route path='/users'\r\n                                render={() => <UsersPage />} />\r\n                            <Route path='/login'\r\n                                render={() => <Login />} />\r\n                            <Route path='/chat'\r\n                                render={() => <ChatPage />} />\r\n                            <Route path='/music'\r\n                                render={() => <MusicPage />} />\r\n                        </Switch>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center' }}>Fake Telegram 2021 created by Dmitriy Danilin</Footer>\r\n                </Layout>\r\n            </Layout>)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isInitialized: state.app.isInitialized\r\n})\r\nexport default compose<React.ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps, { initilizeApp })\r\n)(App);","import * as serviceWorker from './serviceWorker';\r\nimport store from \"./redux/redux-store\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </BrowserRouter>, document.getElementById('root'));\r\n\r\n\r\n// API\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3dCa2\",\"avatar\":\"ProfileInfo_avatar__2yRcv\",\"profileName\":\"ProfileInfo_profileName__1RgKY\",\"status\":\"ProfileInfo_status__2Y-B-\",\"contact\":\"ProfileInfo_contact__3WOyp\",\"editBTN\":\"ProfileInfo_editBTN__3LuNZ\",\"formSummaryError\":\"ProfileInfo_formSummaryError__3pb_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2E1W7\",\"dialogsItems\":\"Dialogs_dialogsItems__3e3N-\",\"messages\":\"Dialogs_messages__3hRA5\",\"message\":\"Dialogs_message__34Skv\",\"person\":\"Dialogs_person__MY6F1\",\"activeDialog\":\"Dialogs_activeDialog__1V244\",\"text\":\"Dialogs_text__3gLYe\",\"textButtonArea\":\"Dialogs_textButtonArea__3bwXc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageBTN\":\"Users_pageBTN__3jsUH\",\"followBTN\":\"Users_followBTN__3wR1w\",\"getUsersBTN\":\"Users_getUsersBTN__21NM3\",\"userInfo\":\"Users_userInfo__2H1Nn\",\"users\":\"Users_users__36A9F\",\"avatar\":\"Users_avatar__n4B1c\",\"aboutUser\":\"Users_aboutUser__3ZqWS\",\"location\":\"Users_location__3WQI5\",\"selectedPage\":\"Users_selectedPage__1AQX8\",\"page\":\"Users_page__1QsaK\",\"preloader\":\"Users_preloader__1BDAh\"};"],"sourceRoot":""}